/*
THIS INFRAGISTICS ULTIMATE SOFTWARE LICENSE  AGREEMENT ("AGREEMENT") LOCATED HERE:
https://www.infragistics.com/legal/license/igultimate-la
https://www.infragistics.com/legal/license/igultimate-eula
GOVERNS THE LICENSING, INSTALLATION AND USE OF INFRAGISTICS SOFTWARE. BY DOWNLOADING AND/OR INSTALLING AND USING INFRAGISTICS SOFTWARE:  you are indicating that you have read and understand this Agreement, and agree to be legally bound by it on behalf of the yourself and your company.
*/
import { EventArgs, Base, markType, Point_$type, runOn, typeCast, IList$1_$type, Number_$type, markDep, IEnumerable_$type, Array_$type, delegateCombine, fromEnum, Boolean_$type, enumGetBox, fromEn, String_$type, getInstanceType, INotifyPropertyChanged_$type, PropertyChangedEventArgs, Delegate_$type, toNullable, TypeRegistrar } from "igniteui-react-core";
import { Brush } from "igniteui-react-core";
import { DataTemplate } from "igniteui-react-core";
import { Visibility_$type } from "igniteui-react-core";
import { DoubleCollection } from "igniteui-react-core";
import { PenLineCap_$type } from "igniteui-react-core";
import { Style } from "igniteui-react-core";
import { MarkerType_$type } from "./MarkerType";
import { HorizontalAnchoredCategorySeries } from "./HorizontalAnchoredCategorySeries";
import { CategoryLineRasterizer } from "./CategoryLineRasterizer";
import { Series } from "./Series";
import { List$1 } from "igniteui-react-core";
import { AnchoredCategorySeries } from "./AnchoredCategorySeries";
import { CategoryAxisBase } from "./CategoryAxisBase";
import { CategorySeries } from "./CategorySeries";
import { CategoryFramePreparer } from "./CategoryFramePreparer";
import { NumericAxisBase } from "./NumericAxisBase";
import { ISupportsMarkers_$type } from "./ISupportsMarkers";
import { CategoryFrame } from "./CategoryFrame";
import { Rect } from "igniteui-react-core";
import { CategorySeriesView } from "./CategorySeriesView";
import { Axis } from "./Axis";
import { ScalerParams } from "./ScalerParams";
import { ObservableCollection$1 } from "igniteui-react-core";
import { AxisRange } from "./AxisRange";
import { AnchoredCategorySeriesView } from "./AnchoredCategorySeriesView";
import { CategoryBucketCalculator } from "./CategoryBucketCalculator";
import { isNaN_, isInfinity, truncate } from "igniteui-react-core";
import { CategoryTransitionInMode_$type } from "./CategoryTransitionInMode";
import { Path } from "igniteui-react-core";
import { ISortingAxis_$type } from "./ISortingAxis";
import { FrameworkElement } from "igniteui-react-core";
import { XamDataChart } from "./XamDataChart";
import { DependencyProperty } from "igniteui-react-core";
import { DependencyObject } from "igniteui-react-core";
import { NumericYAxis } from "./NumericYAxis";
import { Defaults } from "./Defaults";
import { Pool$1 } from "igniteui-react-core";
import { Rectangle } from "igniteui-react-core";
import { DataContext } from "igniteui-react-core";
import { Dictionary$2 } from "igniteui-react-core";
import { IScaler_$type } from "./IScaler";
import { IIsCategoryBased_$type } from "./IIsCategoryBased";
import { CategoryMarkerManager } from "./CategoryMarkerManager";
import { PropertyMetadata } from "igniteui-react-core";
import { dateMinValue, dateMaxValue } from "igniteui-react-core";
import { NumericXAxis } from "./NumericXAxis";
import { CategoryYAxis } from "./CategoryYAxis";
import { AnchoredCategoryBucketCalculator } from "./AnchoredCategoryBucketCalculator";
import { IStacked100Series_$type } from "./IStacked100Series";
import { NotImplementedException } from "igniteui-react-core";
import { SplineSeriesBase } from "./SplineSeriesBase";
import { CollisionAvoider } from "./CollisionAvoider";
import { SafeSortedReadOnlyDoubleCollection } from "./SafeSortedReadOnlyDoubleCollection";
import { Numeric } from "igniteui-react-core";
import { ICategoryScaler_$type } from "./ICategoryScaler";
import { CategoryXAxis } from "./CategoryXAxis";
import { IBarSeries_$type } from "./IBarSeries";
import { Color } from "igniteui-react-core";
import { LegendItemBadgeShape_$type } from "igniteui-react-core";
import { LegendItemBadgeMode_$type } from "igniteui-react-core";
import { MarkerFillMode_$type } from "./MarkerFillMode";
import { MarkerOutlineMode_$type } from "./MarkerOutlineMode";
import { SeriesOutlineMode_$type } from "./SeriesOutlineMode";
import { SeriesHighlightedValuesDisplayMode_$type } from "./SeriesHighlightedValuesDisplayMode";
import { TransitionInSpeedType_$type } from "./TransitionInSpeedType";
import { PropertyUpdatedEventArgs } from "igniteui-react-core";
import { DataLegendSeriesValueInfo } from "igniteui-react-core";
import { DataLegendSeriesContext } from "igniteui-react-core";
import { SingleValuesHolder } from "./SingleValuesHolder";
import { stringIsNullOrEmpty } from "igniteui-react-core";
import { SplineSeriesBaseView } from "./SplineSeriesBaseView";
import { Canvas } from "igniteui-react-core";
import { Panel } from "igniteui-react-core";
import { PlatformConstants } from "igniteui-react-core";
/**
 * @hidden
 */
export let StackedSeriesCreatedEventArgs = /*@__PURE__*/ (() => {
    class StackedSeriesCreatedEventArgs extends EventArgs {
        constructor(a) {
            super();
            this.c = null;
            this.c = a;
        }
        get brush() {
            return this.c.kz;
        }
        set brush(a) {
            this.c.kz = a;
        }
        get legendItemTemplate() {
            return this.c.hr;
        }
        set legendItemTemplate(a) {
            this.c.hr = a;
        }
        get legendItemBadgeTemplate() {
            return this.c.hq;
        }
        set legendItemBadgeTemplate(a) {
            this.c.hq = a;
        }
        get legendItemVisibility() {
            return this.c.lu;
        }
        set legendItemVisibility(a) {
            this.c.lu = a;
        }
        get outline() {
            return this.c.k3;
        }
        set outline(a) {
            this.c.k3 = a;
        }
        get dashArray() {
            return this.c.k8;
        }
        set dashArray(a) {
            this.c.k8 = a;
        }
        get dashCap() {
            return this.c.lb;
        }
        set dashCap(a) {
            this.c.lb = a;
        }
        get index() {
            return this.c.cc;
        }
        get thickness() {
            return this.c.b4;
        }
        set thickness(a) {
            this.c.b4 = a;
        }
        get title() {
            return this.c.cj;
        }
        set title(a) {
            this.c.cj = a;
        }
        get transitionDuration() {
            return this.c.cd;
        }
        set transitionDuration(a) {
            this.c.cd = a;
        }
        get transitionEasingFunction() {
            return this.c.ai;
        }
        set transitionEasingFunction(a) {
            this.c.ai = a;
        }
        get markerBrush() {
            return this.c.k0;
        }
        set markerBrush(a) {
            this.c.k0 = a;
        }
        get markerOutline() {
            return this.c.k1;
        }
        set markerOutline(a) {
            this.c.k1 = a;
        }
        get markerStyle() {
            return this.c.lr;
        }
        set markerStyle(a) {
            this.c.lr = a;
        }
        get markerTemplate() {
            return this.c.hs;
        }
        set markerTemplate(a) {
            this.c.hs = a;
        }
        get markerType() {
            return this.c.x;
        }
        set markerType(a) {
            this.c.x = a;
        }
        get markerThickness() {
            return this.c.bx;
        }
        set markerThickness(a) {
            this.c.bx = a;
        }
        get lineCap() {
            return this.c.la;
        }
        set lineCap(a) {
            this.c.lc = a;
        }
    }
    StackedSeriesCreatedEventArgs.$t = /*@__PURE__*/ markType(StackedSeriesCreatedEventArgs, 'StackedSeriesCreatedEventArgs', EventArgs.$);
    return StackedSeriesCreatedEventArgs;
})();
/**
 * @hidden
 */
export let FragmentBase = /*@__PURE__*/ (() => {
    class FragmentBase extends HorizontalAnchoredCategorySeries {
        constructor() {
            super();
            this.aav = null;
            this._logicalSeriesLink = null;
            this.aax = null;
            this.aav = new CategoryLineRasterizer();
        }
        get logicalSeriesLink() {
            return this._logicalSeriesLink;
        }
        set logicalSeriesLink(a) {
            this._logicalSeriesLink = a;
        }
        get parentSeries() {
            return this.aax;
        }
        set parentSeries(a) {
            this.aax = a;
        }
        get_eq() {
            return false;
        }
        get_ew() {
            return true;
        }
        mg() {
            if (this.logicalSeriesLink != null) {
                return this.logicalSeriesLink.e0;
            }
            return null;
        }
        ji() {
            let a = this.parentSeries;
            if (a.index == -1 || a.y1 == null || a.y1.f.indexOf(this) == -1) {
                return -1;
            }
            return a.y1.f.indexOf(this);
        }
        o5(a) {
            super.o5(a);
            a.parentSeries = this.parentSeries;
            a.logicalSeriesLink = this.logicalSeriesLink;
        }
        jn() {
            let a = this.parentSeries;
            if (a.index == -1 || a.series.count == 0 || a.series.indexOf(this.logicalSeriesLink) == -1) {
                return -1;
            }
            return a.series.indexOf(this.logicalSeriesLink);
        }
        resolveLegendIndex() {
            let a = this.parentSeries;
            if (a.y5) {
                return -1 + a.index + a.yw.count - a.y1.f.indexOf(this);
            }
            return super.resolveLegendIndex();
        }
        bg() {
            return this.parentSeries;
        }
        w1() {
            if (this.parentSeries == null) {
                return null;
            }
            return this.parentSeries.fetchXAxis();
        }
        aau() {
            if (this.parentSeries == null) {
                return this.w7;
            }
            return this.parentSeries.w7;
        }
        xh() {
            if (this.parentSeries == null) {
                return null;
            }
            return this.parentSeries.fetchYAxis();
        }
        aaz(a, b, c, d, e, f, g, h) {
            let i = c[0];
            let j = c[1];
            let k = new Rect(0, i - 5, j - 5, 11, 11);
            if (!isNaN_(i) && !isNaN_(j) && !isInfinity(i) && !isInfinity(j) && d.tryAdd(k)) {
                b.n.add({ $type: Point_$type, x: i, y: j });
                a.updateMarkerTemplate(g, f, h);
                return true;
            }
            return false;
        }
        yi(a, b) {
            a.v();
            if (this.valueColumn == null || this.parentSeries == null || this.logicalSeriesLink == null) {
                return;
            }
            if (this.logicalSeriesLink.a8.count == 0 || this.logicalSeriesLink.a7.count == 0) {
                return;
            }
            this.w8(b).d(a, b);
        }
        uu(a, b, c) {
            return this.uw(a, b, c, this.aau().r(this.w1(), this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl)), this.xh(), this.w1(), runOn(this, this.aa0), (d, e) => this.jr(d, e, this.w1(), runOn(this, this.x1), this.valueColumn != null ? new FragmentBaseValueList(this) : null), (d, e) => this.jp(d, e, this.w1(), runOn(this, this.x1), this.valueColumn != null ? new FragmentBaseValueList(this) : null));
        }
        ag() {
            return [this.w1(), this.xh()];
        }
        aa0(a, b, c) {
            if (this.c1 == null) {
                return NaN;
            }
            let d = this.getEffectiveViewport1(this.cl);
            let e = new ScalerParams(0, this.c1.vh, this.cl.bx, this.w1().ch, d);
            let f = this.w7.r(this.w1(), this.c1.vh, this.cl.bx, d);
            return this.io(this.valueColumn != null ? new FragmentBaseValueList(this) : null, a, this.w1(), e, f, runOn(this, this.x1), b, c);
        }
        aa2(a, b, c) {
            let d = this.y7(c);
            let e = d;
            let f = this.logicalSeriesLink.az;
            let g = f ? this.parentSeries.y1.e : this.parentSeries.y1.d;
            let h = this;
            if (this.be != null) {
                h = this.be;
            }
            let i = g.indexOf(h);
            if (a.count == 0) {
                return;
            }
            if (i == -1) {
                return;
            }
            let j = false;
            for (let k = i; k >= 0; k--) {
                if (j) {
                    break;
                }
                if (k == 0) {
                    a.add({ $type: Point_$type, x: a._inner[a.count - 1].x, y: e });
                    a.add({ $type: Point_$type, x: a._inner[0].x, y: e });
                    break;
                }
                let l = typeCast(FragmentBase.$, g._inner[k - 1]);
                if (l != null && l.aav != null && l.aav.o.count > 0 && this.cl != null && l.gw(this.cl.bx, this.cl.by, this.cl)) {
                    j = true;
                    for (let m = l.aav.o.count - 1; m >= 0; m--) {
                        a.add(l.aav.o._inner[m]);
                    }
                }
            }
        }
        gw(a, b, c) {
            let d = super.gw(a, b, c);
            let e = typeCast(CategoryAxisBase.$, this.parentSeries.fetchXAxis());
            let f = this.parentSeries.fetchYAxis();
            if (this.parentSeries == null || e == null || e.itemsSource == null || f == null || this.parentSeries.dd == null || e.bi == null || f.bi == null) {
                d = false;
            }
            if (this.valueColumn == null) {
                return false;
            }
            if (isInfinity(this.valueColumn.minimum) && isInfinity(this.valueColumn.maximum)) {
                d = false;
            }
            if (isNaN_(this.valueColumn.minimum) && isNaN_(this.valueColumn.maximum)) {
                d = false;
            }
            return d;
        }
        y7(a) {
            let b = 0;
            let c = a.by;
            let d = a.bx;
            let e = this.getEffectiveViewport1(a);
            let f = new ScalerParams(0, c, d, this.xh().ch, e);
            f.b = this.id();
            if (!c.isEmpty && !d.isEmpty && this.xh() != null) {
                b = this.xh().ej(0, f);
            }
            return b;
        }
        aq(a) {
            return null;
        }
        aa1() {
            if (this.parentSeries == null) {
                return -1;
            }
            let a = this.parentSeries.index;
            let b = 0;
            let c = 1;
            if (this.parentSeries.y5) {
                b = this.parentSeries.yw.count - 1;
                c = -1;
            }
            for (let d = b; this.parentSeries.y5 ? d >= 0 : d < this.parentSeries.yw.count; d += c) {
                let e = this.parentSeries.yw._inner[d];
                if (e.visualSeriesLink == this) {
                    return a;
                }
                if (this.parentSeries.ax == null || e.lt != 0 || e.ls != 0) {
                    continue;
                }
                a++;
            }
            return -1;
        }
        aa3(a) {
            if (a == null) {
            }
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            if (this.parentSeries == null) {
                return;
            }
            let e = typeCast(NumericAxisBase.$, this.parentSeries.fetchYAxis());
            if (e == null) {
                return;
            }
            switch (b) {
                case "ValueColumn":
                    if (this.yv.c6) {
                        this.yv.c5.g$i();
                    }
                    if (e != null && !e.c1()) {
                        this.parentSeries.yv().cu.g(this.hu);
                        this.qm(this.f0 && this.dv);
                    }
                    break;
                case "ActualBrush":
                    if (this.logicalSeriesLink != null) {
                        this.logicalSeriesLink.ku = this.tw;
                    }
                    break;
            }
        }
        qo(a, b) {
            super.qo(a, b);
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    FragmentBase.$t = /*@__PURE__*/ markType(FragmentBase, 'FragmentBase', HorizontalAnchoredCategorySeries.$);
    return FragmentBase;
})();
/**
 * @hidden
 */
export let AreaFragment = /*@__PURE__*/ (() => {
    class AreaFragment extends FragmentBase {
        bb() {
            return new AreaFragment();
        }
        constructor() {
            super();
            this.ab = AreaFragment.$;
        }
        ci() {
            return new AreaFragmentView(this);
        }
        px(a) {
            super.px(a);
            this.aa4 = a;
        }
        get_eg() {
            return true;
        }
        get_ef() {
            return true;
        }
        xc() {
            return 1;
        }
        aa6(a, b) {
            let c = this.aa4.dj.an;
            if (this.gh(a, c)) {
                return true;
            }
            let d = this.aa4.dk.an;
            if (this.gh(a, d)) {
                return true;
            }
            return false;
        }
        gf(a, b) {
            if (this.aa5(a, b)) {
                return true;
            }
            if (this.aa6(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        aa5(a, b) {
            let c = this.aa4.dl.an;
            if (this.gg(a, b, c)) {
                return true;
            }
            let d = this.aa4.dm.an;
            if (this.gg(a, b, d)) {
                return true;
            }
            return false;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        n7(a, b) {
            super.n7(a, b);
            let c = b;
            c.de();
        }
        yl(a, b) {
            super.yl(a, b);
            this.aav.a = typeCast(ISortingAxis_$type, this.xAxis) !== null ? true : false;
            let c = typeCast(AreaFragmentView.$, b);
            let d = a.f;
            let e = this.getEffectiveViewport1(c);
            this.xa.a2(this, this.xu(), runOn(this, this.wv), this.x3(b), this.x4(b));
            let f = false;
            let g = this.xa.b;
            if (g != null) {
                f = true;
            }
            if (f) {
                let h = new ScalerParams(0, b.by, b.bx, this.aab.ch, e);
                this.yh(d, -1, this.valueColumn.count, this.aab, h, b.q, -1);
            }
            this.xa.ad(c.dl, true, false, true, true);
            this.xa.ad(c.dm, true, false, true, true);
            this.xa.ad(c.dj, false, true, false, false);
            this.xa.ad(c.dk, false, true, false, false);
            let i = c.cu.d;
            this.aav.i(c.dj, c.dl, c.dk, c.dm, a.f.count, a.f, true, i, this.hu, (j, k, l, m, n) => this.aa2(j, a.f, b), 0);
            c.dj._opacity = this.xa.j * this.hq;
            c.dk._opacity = 0.5 * this.xa.j * this.hq;
        }
        q6() {
            let a = (typeCast(XamDataChart.$, this.c1));
            if (a != null) {
                this.hq = isNaN_(this.h0) ? this.parentSeries.hq : this.h0;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    AreaFragment.$t = /*@__PURE__*/ markType(AreaFragment, 'AreaFragment', FragmentBase.$);
    return AreaFragment;
})();
/**
 * @hidden
 */
export let ColumnFragment = /*@__PURE__*/ (() => {
    class ColumnFragment extends FragmentBase {
        bb() {
            return new ColumnFragment();
        }
        get_ek() {
            return true;
        }
        get_e6() {
            return true;
        }
        i0() {
            if (!isNaN_(this.iz)) {
                return super.i0();
            }
            return Defaults.h;
        }
        xc() {
            return 1;
        }
        constructor() {
            super();
            this.ab = ColumnFragment.$;
        }
        ci() {
            return new ColumnFragmentView(this);
        }
        px(a) {
            super.px(a);
            this.aa5 = a;
        }
        get fragmentXAxis() {
            return this.parentSeries != null ? typeCast(CategoryAxisBase.$, this.parentSeries.fetchXAxis()) : null;
        }
        get fragmentYAxis() {
            return this.parentSeries != null ? typeCast(NumericYAxis.$, this.parentSeries.fetchYAxis()) : null;
        }
        preferredCategoryMode(a) {
            return 2;
        }
        w1() {
            return this.fragmentXAxis;
        }
        xh() {
            return this.fragmentYAxis;
        }
        get_d1() {
            return true;
        }
        fetchXAxis() {
            return null;
        }
        fetchYAxis() {
            return null;
        }
        n7(a, b) {
            super.n7(a, b);
            let c = b;
            if (a && c.de != null) {
                this.w2.n.clear();
                c.de.count = 0;
            }
        }
        aq(a) {
            if (this.valueColumn == null || this.valueColumn.count == 0) {
                return null;
            }
            return new AxisRange(this.valueColumn.minimum, this.valueColumn.maximum);
        }
        gw(a, b, c) {
            if (this.parentSeries == null) {
                return false;
            }
            return this.parentSeries.y6(this, a, b, this.aa7(c));
        }
        gt() {
            return true;
        }
        x3(a) {
            if (this.parentSeries != null) {
                return this.parentSeries.x3(this.parentSeries.cl);
            }
            return super.x3(a);
        }
        x4(a) {
            if (this.parentSeries != null) {
                return this.parentSeries.x4(this.parentSeries.cl);
            }
            return super.x3(a);
        }
        x5(a) {
            if (this.parentSeries != null) {
                return this.parentSeries.x5(this.parentSeries.cl);
            }
            return super.x5(a);
        }
        u5(a) {
            if (this.w1() == null || this.fragmentYAxis == null) {
                return Rect.empty;
            }
            let b = this.up(a);
            let c = this.cl.by;
            let d = this.cl.bx;
            let e = this.getEffectiveViewport1(this.cl);
            let f = new ScalerParams(0, c, d, this.fragmentYAxis.ch, e);
            let g = this.aj(this.w1(), this.w2.f, this.x3(this.cl), this.x4(this.cl), a, true);
            if (g == null) {
                return Rect.empty;
            }
            let h = g[0];
            let i = g[1];
            let j = Math.abs(b.x - h[0]);
            let k = Math.abs(b.x - i[0]);
            let l = this.w1().k4(c, d, e);
            if (j < k) {
                let m = h[0] - 0.5 * l;
                let n = h[1];
                let o = h[2];
                return new Rect(0, m, Math.min(n, o), l, Math.max(n, o) - Math.min(n, o));
            }
            else {
                let p = i[0] - 0.5 * l;
                let q = i[1];
                let r = i[2];
                return new Rect(0, p, Math.min(q, r), l, Math.max(q, r) - Math.min(q, r));
            }
        }
        gf(a, b) {
            if (this.gi(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        gi(a, b) {
            let c = this.u6(a);
            if (c.isEmpty) {
                return false;
            }
            let d = this.abe(c, this.h9(b));
            return d.containsPoint(a);
        }
        abe(a, b) {
            let c = a.left + a.width / 2;
            let d = a.top + a.height / 2;
            let e = c - ((a.width / 2) + b);
            let f = d - (a.height / 2);
            let g = a.height;
            let h = a.width + b * 2;
            return new Rect(0, e, f, h, g);
        }
        j9(a, b) {
            let c = typeCast(FrameworkElement.$, a);
            let d = c != null ? typeCast(DataContext.$, c.dataContext) : null;
            let e = d != null ? d.item : null;
            if (e == null) {
                let f = this.cl.bx;
                let g = this.c1 != null ? this.c1.vh : Rect.empty;
                let h = { $type: Point_$type, x: g.left + g.width * (b.x - f.left) / f.width, y: g.top + g.height * (b.y - f.top) / f.height };
                e = this.j2(h);
            }
            return e;
        }
        j2(a) {
            let b = 0;
            if (typeCast(ISortingAxis_$type, this.w1()) !== null) {
                b = this.jl(a);
                if (b == -1) {
                    return null;
                }
            }
            else {
                b = this.jj(a);
            }
            return b >= 0 && this.dd != null && b < this.dd.count ? this.dd.item(b) : null;
        }
        jl(a) {
            let b = this.cl.by;
            let c = this.cl.bx;
            let d = this.getEffectiveViewport1(this.cl);
            if (b.isEmpty || c.isEmpty) {
                return -1;
            }
            let e = this.w1();
            let f = new ScalerParams(0, b, c, e.ch, d);
            let g = typeCast(ISortingAxis_$type, this.fragmentXAxis);
            let h = this.u1(this.cl);
            let i = e.em(h.left, f);
            let j = e.em(h.right, f);
            let k = (a.x - b.left) / b.width;
            let l = i + ((j - i) * k);
            if (truncate(l) <= dateMinValue().getTime() || truncate(l) >= dateMaxValue().getTime()) {
                return -1;
            }
            let m = g.i$f(l);
            return m;
        }
        jj(a) {
            if (this.parentSeries == null) {
                return -1;
            }
            return this.parentSeries.zc(a);
        }
        aaz(a, b, c, d, e, f, g, h) {
            let i = 0;
            let j = c[0];
            let k = e < i ? c[2] : c[1];
            let l = new Rect(0, j - 5, k - 5, 11, 11);
            if (!isNaN_(j) && !isNaN_(k) && !isInfinity(j) && !isInfinity(k) && d.tryAdd(l)) {
                b.n.add({ $type: Point_$type, x: j, y: k });
                a.updateMarkerTemplate(g, f, h);
                return true;
            }
            return false;
        }
        aa7(a) {
            if (a.p) {
                return this.parentSeries.a2.a$i.item(a.ad);
            }
            else if (a == this.ck) {
                return this.parentSeries.ck;
            }
            else {
                return this.parentSeries.xb;
            }
        }
        ql(a, b, c, d, e) {
            this.a2.a$y(this, a, b, d, e);
            let f = this.a2.a$i.item(d);
            let g = f;
            f.a3(c);
            let h = this.aa7(f);
            h.cu.g(this.hu);
            if (this.dt(g)) {
                return;
            }
            if (this.yw == null) {
                this.yw = new CategoryFrame(3);
            }
            this.yw.v();
            this.yi(this.yw, g);
            this.yl(this.yw, g);
        }
        yi(a, b) {
            a.v();
            if (this.valueColumn == null || this.parentSeries == null || this.logicalSeriesLink == null || this.logicalSeriesLink.a7.count == 0 || this.logicalSeriesLink.a8.count == 0) {
                return;
            }
            let c;
            if (b.p) {
                c = this.parentSeries.yu;
            }
            else if (b == this.ck) {
                c = this.parentSeries.w5;
            }
            else {
                c = this.parentSeries.w2;
            }
            let d = typeCast(CategorySeriesView.$, this.aa7(b));
            a.f.clear();
            if (a.m != null) {
                a.m.clear();
            }
            a.n.clear();
            let e = d.cu.e;
            let f = d.cu.f;
            let g = this.parentSeries.w7.h.yScaler;
            let h = typeCast(ISortingAxis_$type, this.parentSeries.w7.h.scaler);
            let i = typeCast(NumericAxisBase.$, g) !== null && g.lj;
            let j = typeCast(StackedBucketCalculator.$, d.cu);
            let k = d.cu.d;
            let l = 0;
            if (e <= f) {
                for (let m = e; m <= f; m++) {
                    let n = m * k;
                    if (this._visibility != 0) {
                        break;
                    }
                    if (m >= this.valueColumn.count || m >= c.f.count + e) {
                        continue;
                    }
                    let o = this.valueColumn.item(m);
                    let p = !i || (i && o > 0);
                    let q;
                    if (h == null) {
                        q = j.getBucket1(this, m, m, b.by, b.bx, c);
                    }
                    else {
                        q = j.getBucket1(this, m, h.i$b._inner[m], b.by, b.bx, c);
                    }
                    a.f.add(q);
                    if (h != null) {
                        if (a.m == null) {
                            a.m = new List$1(Number_$type, 0);
                        }
                        a.m.add(n);
                    }
                    if (p) {
                        if (this.aaz(b, a, q, this.w7.h.provideCollisionDetector(), o, n, l, a.f.count - 1)) {
                            l++;
                        }
                    }
                }
            }
            b.cx.count = l;
        }
        yl(a, b) {
            super.yl(a, b);
            if (this.parentSeries == null) {
                return;
            }
            this.parentSeries.zl(this, a, b, runOn(this, this.wv));
            CategoryMarkerManager.e(this, a.n, b.cx, this.vt);
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    ColumnFragment.$t = /*@__PURE__*/ markType(ColumnFragment, 'ColumnFragment', FragmentBase.$);
    ColumnFragment.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, ColumnFragment, 'raisePropertyChanged', ['RadiusX:aa8:abc', [1, 0], 'RadiusY:aa9:abd', [1, 0]]);
    return ColumnFragment;
})();
/**
 * @hidden
 */
export let BarFragment = /*@__PURE__*/ (() => {
    class BarFragment extends ColumnFragment {
        constructor() {
            super();
            this.ab = BarFragment.$;
        }
        get_ei() {
            return true;
        }
        get_e6() {
            return true;
        }
        get_ek() {
            return false;
        }
        xc() {
            return 1;
        }
        get barFragmentXAxis() {
            return this.parentSeries != null ? this.parentSeries.xAxis : null;
        }
        get barFragmentYAxis() {
            return this.parentSeries != null ? this.parentSeries.yAxis : null;
        }
        w1() {
            if (this.parentSeries == null) {
                return null;
            }
            return this.parentSeries.fetchYAxis();
        }
        get_isVertical() {
            return true;
        }
        h6(a) {
            let b = this.c1 != null ? this.c1.vh : Rect.empty;
            let c = this.cl.bx;
            let d = this.u1(this.cl);
            let e = this.getEffectiveViewport1(this.cl);
            let f = this.w1();
            let g = -1;
            if (f != null && !b.isEmpty && !c.isEmpty) {
                let h = new ScalerParams(0, b, c, f.ch, e);
                let i = f.em(d.top, h);
                let j = f.em(d.bottom, h);
                let k = (a.y - b.top) / b.height;
                let l = i + (k * (j - i));
                if (f.categoryMode != 0) {
                    l -= 0.5;
                }
                g = l;
            }
            return g;
        }
        xh() {
            if (this.parentSeries == null) {
                return null;
            }
            return this.parentSeries.xh();
        }
        abe(a, b) {
            let c = a.left + a.width / 2;
            let d = a.top + a.height / 2;
            let e = c - (a.width / 2);
            let f = d - ((a.height / 2) + b);
            let g = a.height + b * 2;
            let h = a.width;
            return new Rect(0, e, f, h, g);
        }
        u5(a) {
            if (this.w1() == null) {
                return Rect.empty;
            }
            let b = this.up(a);
            let c = this.cl.by;
            let d = this.cl.bx;
            let e = this.getEffectiveViewport1(this.cl);
            let f = this.w1();
            let g = new ScalerParams(0, c, d, f.ch, e);
            let h = this.aj(this.w1(), this.w2.f, this.x3(this.cl), this.x4(this.cl), a, true);
            if (h == null) {
                return Rect.empty;
            }
            let i = h[0];
            let j = h[1];
            let k = Math.abs(b.y - i[0]);
            let l = Math.abs(b.y - j[0]);
            let m = f.k4(c, d, e);
            if (k < l) {
                let n = i[0] - 0.5 * m;
                let o = i[2];
                let p = i[1];
                return new Rect(0, o, n, Math.max(p, o) - Math.min(p, o), m);
            }
            else {
                let q = j[0] - 0.5 * m;
                let r = j[2];
                let s = j[1];
                return new Rect(0, r, q, Math.max(s, r) - Math.min(s, r), m);
            }
        }
        gf(a, b) {
            if (this.gi(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        aaz(a, b, c, d, e, f, g, h) {
            let i = c[0];
            let j = e < 0 ? c[2] : c[1];
            let k = new Rect(0, j - 5, i - 5, 11, 11);
            if (!isNaN_(j) && !isNaN_(i) && !isInfinity(j) && !isInfinity(i) && d.tryAdd(k)) {
                b.n.add({ $type: Point_$type, x: j, y: i });
                a.updateMarkerTemplate(g, f, h);
                return true;
            }
            return false;
        }
        j2(a) {
            let b = 0;
            if (typeCast(ISortingAxis_$type, this.barFragmentYAxis) !== null) {
                b = this.jl(a);
                if (b == -1) {
                    return null;
                }
            }
            else {
                b = this.jj(a);
            }
            return b >= 0 && this.dd != null && b < this.dd.count ? this.dd.item(b) : null;
        }
        jl(a) {
            let b = this.cl.by;
            let c = this.cl.bx;
            if (b.isEmpty || c.isEmpty) {
                return -1;
            }
            let d = this.getEffectiveViewport1(this.cl);
            let e = new ScalerParams(0, b, c, this.barFragmentYAxis.ch, d);
            let f = typeCast(ISortingAxis_$type, this.barFragmentYAxis);
            let g = this.u1(this.cl);
            let h = this.barFragmentYAxis.em(g.top, e);
            let i = this.barFragmentYAxis.em(g.bottom, e);
            let j = (a.y - b.top) / b.height;
            let k = h + ((i - h) * j);
            if (truncate(k) <= dateMinValue().getTime() || truncate(k) >= dateMaxValue().getTime()) {
                return -1;
            }
            let l = f.i$f(k);
            return l;
        }
        y7(a) {
            let b = 0;
            let c = a.by;
            let d = a.bx;
            let e = this.getEffectiveViewport1(a);
            let f = new ScalerParams(0, c, d, this.barFragmentXAxis.ch, e);
            if (!c.isEmpty && !d.isEmpty && this.barFragmentXAxis != null) {
                b = this.barFragmentXAxis.ej(0, f);
            }
            return b;
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            if (this.parentSeries == null || this.barFragmentXAxis == null) {
                return;
            }
            let e = this.barFragmentXAxis;
            switch (b) {
                case "ValueColumn":
                    if (this.yv.c6) {
                        this.yv.c5.g$i();
                    }
                    if (e != null && !e.c1()) {
                        this.parentSeries.yv().cu.g(this.hu);
                        this.qm(this.f0 && this.dv);
                    }
                    break;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    BarFragment.$t = /*@__PURE__*/ markType(BarFragment, 'BarFragment', ColumnFragment.$);
    return BarFragment;
})();
/**
 * @hidden
 */
export let AreaFragmentBucketCalculator = /*@__PURE__*/ (() => {
    class AreaFragmentBucketCalculator extends AnchoredCategoryBucketCalculator {
        constructor(a) {
            super(a);
        }
        getBucketWithoutUnknowns(a) {
            return this.getBucket(a);
        }
        getBucket(a) {
            let b = Math.min(a * this.d, this.i.c3.valueColumn.count - 1);
            let c = Math.min(b + this.d - 1, this.i.c3.valueColumn.count - 1);
            let d = NaN;
            let e = NaN;
            let f = this.i.c3;
            let g = f.parentSeries;
            let h = typeCast(IStacked100Series_$type, g) !== null;
            let i = this.i.c3.valueColumn;
            let j = g.ys;
            let k = g.yt;
            let l = f.logicalSeriesLink.a8;
            let m = f.logicalSeriesLink.a7;
            for (let n = b; n <= c; ++n) {
                let o = i.item(n);
                if (isNaN_(o) || isInfinity(o)) {
                    o = 0;
                }
                let p = Math.abs(k[n]) + j[n];
                if (h) {
                    if (p == 0) {
                        o = 0;
                    }
                    else if (o < 0) {
                        o = (l._inner[n] + o) / p * 100;
                    }
                    else {
                        o = (m._inner[n] + o) / p * 100;
                    }
                }
                else {
                    o = o < 0 ? l._inner[n] + o : m._inner[n] + o;
                }
                if (!isNaN_(d)) {
                    if (!isNaN_(o)) {
                        d = Math.min(d, o);
                        e = Math.max(e, o);
                    }
                }
                else {
                    d = o;
                    e = o;
                }
            }
            if (!isNaN_(d)) {
                return [0.5 * (b + c), d, e];
            }
            return [0.5 * (b + c), NaN, NaN];
        }
    }
    AreaFragmentBucketCalculator.$t = /*@__PURE__*/ markType(AreaFragmentBucketCalculator, 'AreaFragmentBucketCalculator', AnchoredCategoryBucketCalculator.$);
    return AreaFragmentBucketCalculator;
})();
/**
 * @hidden
 */
export let LineFragmentBucketCalculator = /*@__PURE__*/ (() => {
    class LineFragmentBucketCalculator extends AnchoredCategoryBucketCalculator {
        constructor(a) {
            super(a);
        }
        getBucketWithoutUnknowns(a) {
            return this.getBucket(a);
        }
        getBucket(a) {
            let b = Math.min(a * this.d, this.i.c3.valueColumn.count - 1);
            let c = Math.min(b + this.d - 1, this.i.c3.valueColumn.count - 1);
            let d = NaN;
            let e = NaN;
            let f = typeCast(FragmentBase.$, this.i.c3);
            let g = f.parentSeries;
            for (let h = b; h <= c; ++h) {
                let i = this.i.c3.valueColumn.item(h);
                let j = Math.abs(g.yt[h]) + g.ys[h];
                if (isNaN_(i) || isInfinity(i)) {
                    i = 0;
                }
                if (typeCast(IStacked100Series_$type, g) !== null) {
                    if (j == 0) {
                        i = 0;
                    }
                    else if (i < 0) {
                        i = (f.logicalSeriesLink.a8._inner[h] + i) / j * 100;
                    }
                    else {
                        i = (f.logicalSeriesLink.a7._inner[h] + i) / j * 100;
                    }
                }
                else {
                    i = i < 0 ? f.logicalSeriesLink.a8._inner[h] + i : f.logicalSeriesLink.a7._inner[h] + i;
                }
                if (!isNaN_(d)) {
                    if (!isNaN_(i)) {
                        d = Math.min(d, i);
                        e = Math.max(e, i);
                    }
                }
                else {
                    d = i;
                    e = i;
                }
            }
            if (!isNaN_(d)) {
                return [0.5 * (b + c), d, e];
            }
            return [0.5 * (b + c), NaN, NaN];
        }
    }
    LineFragmentBucketCalculator.$t = /*@__PURE__*/ markType(LineFragmentBucketCalculator, 'LineFragmentBucketCalculator', AnchoredCategoryBucketCalculator.$);
    return LineFragmentBucketCalculator;
})();
/**
 * @hidden
 */
export let SplineFragmentBucketCalculator = /*@__PURE__*/ (() => {
    class SplineFragmentBucketCalculator extends AnchoredCategoryBucketCalculator {
        constructor(a) {
            super(a);
        }
        getBucket(a) {
            let b = Math.min(a * this.d, this.i.c3.valueColumn.count - 1);
            let c = Math.min(b + this.d - 1, this.i.c3.valueColumn.count - 1);
            let d = NaN;
            let e = NaN;
            let f = typeCast(SplineFragmentBase.$, this.i.c3);
            let g = f.parentSeries;
            for (let h = b; h <= c; ++h) {
                let i = this.i.c3.valueColumn.item(h);
                let j = Math.abs(g.yt[h]) + g.ys[h];
                if (isNaN_(i) || isInfinity(i)) {
                    i = 0;
                }
                if (typeCast(IStacked100Series_$type, g) !== null) {
                    if (j == 0) {
                        i = 0;
                    }
                    else if (i < 0) {
                        i = (f.logicalSeriesLink.a8._inner[h] + i) / j * 100;
                    }
                    else {
                        i = (f.logicalSeriesLink.a7._inner[h] + i) / j * 100;
                    }
                }
                else {
                    i = i < 0 ? f.logicalSeriesLink.a8._inner[h] + i : f.logicalSeriesLink.a7._inner[h] + i;
                }
                if (!isNaN_(d)) {
                    if (!isNaN_(i)) {
                        d = Math.min(d, i);
                        e = Math.max(e, i);
                    }
                }
                else {
                    d = i;
                    e = i;
                }
            }
            if (!isNaN_(d)) {
                return [0.5 * (b + c), d, e];
            }
            return [0.5 * (b + c), NaN, NaN];
        }
    }
    SplineFragmentBucketCalculator.$t = /*@__PURE__*/ markType(SplineFragmentBucketCalculator, 'SplineFragmentBucketCalculator', AnchoredCategoryBucketCalculator.$);
    return SplineFragmentBucketCalculator;
})();
/**
 * @hidden
 */
export let StackedBucketCalculator = /*@__PURE__*/ (() => {
    class StackedBucketCalculator extends CategoryBucketCalculator {
        constructor(a) {
            super(a);
        }
        getBucket(a) {
            let b = typeCast(StackedSeriesBase.$, this.c.cw);
            let c = Math.min(b.yt != null ? b.yt.length : 0, b.ys != null ? b.ys.length : 0);
            let d = Math.min(a * this.d, c - 1);
            let e = Math.min(d + this.d - 1, c - 1);
            let f = NaN;
            let g = NaN;
            for (let h = d; h <= e; ++h) {
                let i = Math.min(b.yt[h], b.ys[h]);
                let j = Math.max(b.yt[h], b.ys[h]);
                if (!isNaN_(f)) {
                    if (!isNaN_(i)) {
                        f = Math.min(f, i);
                        g = Math.max(g, i);
                    }
                    if (!isNaN_(j)) {
                        f = Math.min(f, j);
                        g = Math.max(g, j);
                    }
                }
                else {
                    f = i;
                    g = j;
                }
            }
            if (!isNaN_(f) && !isNaN_(g)) {
                return [0.5 * (d + e), f, g];
            }
            return [NaN, NaN, NaN];
        }
        getBucket1(a, b, c, d, e, f) {
            return null;
        }
    }
    StackedBucketCalculator.$t = /*@__PURE__*/ markType(StackedBucketCalculator, 'StackedBucketCalculator', CategoryBucketCalculator.$);
    return StackedBucketCalculator;
})();
/**
 * @hidden
 */
export let StackedBarBucketCalculator = /*@__PURE__*/ (() => {
    class StackedBarBucketCalculator extends StackedBucketCalculator {
        constructor(a) {
            super(a);
        }
        g(a) {
            let b = this.c.by;
            let c = this.c.bx;
            let d = typeCast(StackedBarSeries.$, this.c.cw);
            let e = this.c.cw.dd;
            if (b.isEmpty || c.isEmpty || d.yAxis == null || e == null || e.count == 0) {
                this.d = 0;
                return;
            }
            let f = d.getEffectiveViewport1(this.c);
            let g = new ScalerParams(0, b, c, d.yAxis.ch, f);
            let h = d.u1(this.c);
            let i = Math.floor(d.yAxis.en(h.top, g, 0));
            let j = Math.ceil(d.yAxis.en(h.bottom, g, 0));
            if (!d.yAxis.ch) {
                j = Math.ceil(d.yAxis.en(h.top, g, 0));
                i = Math.floor(d.yAxis.en(h.bottom, g, 0));
            }
            let k = Math.floor((j - i + 1) * a / h.height);
            this.d = truncate(Math.max(1, k));
            this.e = truncate(Math.max(0, Math.floor(i / this.d) - 1));
            this.f = truncate(Math.ceil(j / this.d));
        }
        getBucket(a) {
            return super.getBucket(a);
        }
        getBucket1(a, b, c, d, e, f) {
            let g = [NaN, NaN, NaN];
            let h = typeCast(BarFragment.$, a);
            if (h == null || h.logicalSeriesLink == null) {
                return g;
            }
            let i = typeCast(StackedBarSeries.$, this.c.cw);
            let j = a.valueColumn.item(c);
            let k = 0;
            let l = NaN;
            let m = NaN;
            let n = Number.NEGATIVE_INFINITY;
            let o = Number.POSITIVE_INFINITY;
            let p = i.getEffectiveViewport1(this.c);
            let q = Math.min(i.yt != null ? i.yt.length : 0, i.ys != null ? i.ys.length : 0);
            let r = c * this.d;
            let s = Math.min(r + this.d - 1, q - 1);
            if (r <= s) {
                for (let t = r; t <= s; ++t) {
                    j = a.valueColumn.item(t);
                    if (j < k) {
                        o = Math.min(o, h.logicalSeriesLink.a8._inner[t] + j);
                        n = Math.max(n, h.logicalSeriesLink.a8._inner[t]);
                    }
                    else {
                        o = Math.min(o, h.logicalSeriesLink.a7._inner[t]);
                        n = Math.max(n, h.logicalSeriesLink.a7._inner[t] + j);
                    }
                    if (!isNaN_(l)) {
                        if (!isNaN_(o)) {
                            l = Math.min(l, o);
                            m = Math.max(m, o);
                        }
                        if (!isNaN_(n)) {
                            l = Math.min(l, n);
                            m = Math.max(m, n);
                        }
                    }
                    else {
                        l = o;
                        m = n;
                    }
                }
            }
            let u = new ScalerParams(0, d, e, i.xAxis.ch, p);
            g = [f.f._inner[b - this.e][0], i.xAxis.ej(m, u), i.xAxis.ej(l, u)];
            return g;
        }
    }
    StackedBarBucketCalculator.$t = /*@__PURE__*/ markType(StackedBarBucketCalculator, 'StackedBarBucketCalculator', StackedBucketCalculator.$);
    return StackedBarBucketCalculator;
})();
/**
 * @hidden
 */
export let StackedColumnBucketCalculator = /*@__PURE__*/ (() => {
    class StackedColumnBucketCalculator extends StackedBucketCalculator {
        constructor(a) {
            super(a);
        }
        getBucket(a) {
            return super.getBucket(a);
        }
        getBucket1(a, b, c, d, e, f) {
            let g = [NaN, NaN, NaN];
            let h = typeCast(ColumnFragment.$, a);
            if (h == null || h.logicalSeriesLink == null) {
                return g;
            }
            let i = typeCast(StackedColumnSeries.$, this.c.cw);
            let j = a.valueColumn.item(c);
            let k = 0;
            let l = NaN;
            let m = NaN;
            let n = Number.NEGATIVE_INFINITY;
            let o = Number.POSITIVE_INFINITY;
            let p = i.getEffectiveViewport1(this.c);
            let q = Math.min(i.yt != null ? i.yt.length : 0, i.ys != null ? i.ys.length : 0);
            let r = c * this.d;
            let s = Math.min(r + this.d - 1, q - 1);
            if (r <= s) {
                for (let t = r; t <= s; ++t) {
                    j = a.valueColumn.item(t);
                    if (j < k) {
                        o = Math.min(o, h.logicalSeriesLink.a8._inner[t] + j);
                        n = Math.max(n, h.logicalSeriesLink.a8._inner[t]);
                    }
                    else {
                        o = Math.min(o, h.logicalSeriesLink.a7._inner[t]);
                        n = Math.max(n, h.logicalSeriesLink.a7._inner[t] + j);
                    }
                    if (!isNaN_(l)) {
                        if (!isNaN_(o)) {
                            l = Math.min(l, o);
                            m = Math.max(m, o);
                        }
                        if (!isNaN_(n)) {
                            l = Math.min(l, n);
                            m = Math.max(m, n);
                        }
                    }
                    else {
                        l = o;
                        m = n;
                    }
                }
            }
            let u = new ScalerParams(0, d, e, i.yAxis.ch, p);
            g = [f.f._inner[b - this.e][0], i.yAxis.ej(m, u), i.yAxis.ej(l, u)];
            return g;
        }
    }
    StackedColumnBucketCalculator.$t = /*@__PURE__*/ markType(StackedColumnBucketCalculator, 'StackedColumnBucketCalculator', StackedBucketCalculator.$);
    return StackedColumnBucketCalculator;
})();
/**
 * @hidden
 */
export let FragmentBaseValueList = /*@__PURE__*/ (() => {
    class FragmentBaseValueList extends Base {
        constructor(a) {
            super();
            this.a = null;
            this.a = a;
        }
        indexOf(a) {
            throw new NotImplementedException(0);
        }
        insert(a, b) {
            throw new NotImplementedException(0);
        }
        removeAt(a) {
            throw new NotImplementedException(0);
        }
        item(a, b) {
            if (arguments.length === 2) {
                throw new NotImplementedException(0);
                return b;
            }
            else {
                let b = false;
                if (this.a.parentSeries != null) {
                    b = this.a.parentSeries.y4;
                }
                let c = this.a.parentSeries;
                if (c == null) {
                    return NaN;
                }
                if (c.yt == null || c.ys == null || c.yt.length == 0 || c.ys.length == 0) {
                    return NaN;
                }
                let d = this.a.valueColumn.item(a);
                let e = Math.abs(c.yt[a]) + c.ys[a];
                let f = this.a.logicalSeriesLink.a7;
                let g = this.a.logicalSeriesLink.a8;
                if (isNaN_(d) || isInfinity(d)) {
                    d = 0;
                }
                if (b) {
                    if (e == 0) {
                        d = 0;
                    }
                    else if (d < 0) {
                        d = (g._inner[a] + d) / e * 100;
                    }
                    else {
                        d = (f._inner[a] + d) / e * 100;
                    }
                }
                else {
                    d = d < 0 ? g._inner[a] + d : f._inner[a] + d;
                }
                return d;
            }
        }
        add(a) {
            throw new NotImplementedException(0);
        }
        clear() {
            throw new NotImplementedException(0);
        }
        contains(a) {
            throw new NotImplementedException(0);
        }
        copyTo(a, b) {
            throw new NotImplementedException(0);
        }
        get count() {
            return this.a.valueColumn.count;
        }
        get isReadOnly() {
            throw new NotImplementedException(0);
        }
        remove(a) {
            throw new NotImplementedException(0);
        }
        getEnumerator() {
            throw new NotImplementedException(0);
        }
        getEnumeratorObject() {
            return this.getEnumerator();
        }
    }
    FragmentBaseValueList.$t = /*@__PURE__*/ markType(FragmentBaseValueList, 'FragmentBaseValueList', Base.$, [/*@__PURE__*/ IList$1_$type.specialize(Number_$type)]);
    return FragmentBaseValueList;
})();
/**
 * @hidden
 */
export let LineFragment = /*@__PURE__*/ (() => {
    class LineFragment extends FragmentBase {
        bb() {
            return new LineFragment();
        }
        get_e5() {
            return true;
        }
        xw() {
            return true;
        }
        constructor() {
            super();
            this.ab = LineFragment.$;
        }
        ci() {
            return new LineFragmentView(this);
        }
        px(a) {
            super.px(a);
            this.aa4 = a;
        }
        aa6(a, b) {
            let c = this.aa4.di.an;
            if (this.gh(a, c)) {
                return true;
            }
            return false;
        }
        get_eg() {
            return true;
        }
        gf(a, b) {
            if (this.aa5(a, b)) {
                return true;
            }
            if (this.aa6(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        aa5(a, b) {
            let c = this.aa4.dj.an;
            if (this.gg(a, b, c)) {
                return true;
            }
            let d = this.aa4.dk.an;
            if (this.gg(a, b, d)) {
                return true;
            }
            return false;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        n7(a, b) {
            super.n7(a, b);
            let c = b;
            c.de();
        }
        yl(a, b) {
            super.yl(a, b);
            let c = (d) => a.f._inner[d][0];
            let d = (e) => a.f._inner[e][1];
            let e = (f) => a.f._inner[f][0];
            let f = (g) => a.f._inner[g][2];
            this.aav.a = typeCast(ISortingAxis_$type, this.xAxis) !== null ? true : false;
            let g = b.cu.d;
            let h = typeCast(LineFragmentView.$, b);
            let i = this.getEffectiveViewport1(b);
            let j = a.f;
            this.xa.a2(this, this.xu(), runOn(this, this.wv), this.x3(b), this.x4(b));
            let k = false;
            let l = this.xa.b;
            if (l != null) {
                k = true;
            }
            if (k) {
                let m = new ScalerParams(0, b.by, b.bx, this.aab.ch, i);
                this.yh(j, -1, this.valueColumn.count, this.aab, m, b.q, -1);
            }
            this.xa.ad(h.dj, true, false, true, false);
            this.xa.ad(h.dk, true, false, true, false);
            this.xa.ad(h.di, false, true, false, false);
            h.di._opacity = 0.75 * this.xa.j;
            this.aav.m(h.dj, h.di, h.dk, a.f.count, a.f, true, 0, this.yt(a.f, a.f.count - 1, b.bx, b.by), g, this.hu);
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    LineFragment.$t = /*@__PURE__*/ markType(LineFragment, 'LineFragment', FragmentBase.$);
    return LineFragment;
})();
/**
 * @hidden
 */
export let SplineFragmentBase = /*@__PURE__*/ (() => {
    class SplineFragmentBase extends SplineSeriesBase {
        get logicalSeriesLink() {
            return this._logicalSeriesLink;
        }
        set logicalSeriesLink(a) {
            this._logicalSeriesLink = a;
        }
        constructor() {
            super();
            this._logicalSeriesLink = null;
            this.abe = null;
            this.abg = null;
            this.abe = new CategoryLineRasterizer();
        }
        get parentSeries() {
            return this.abg;
        }
        set parentSeries(a) {
            this.abg = a;
        }
        o5(a) {
            super.o5(a);
            a.parentSeries = this.parentSeries;
            a.logicalSeriesLink = this.logicalSeriesLink;
        }
        get_eq() {
            return false;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        get_ew() {
            return true;
        }
        mg() {
            if (this.logicalSeriesLink != null) {
                return this.logicalSeriesLink.e0;
            }
            return null;
        }
        uu(a, b, c) {
            return this.uw(a, b, c, this.w7.r(this.w1(), this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl)), this.xh(), this.w1(), runOn(this, this.abi), (d, e) => this.jr(d, e, this.w1(), runOn(this, this.x1), new SplineFragmentBaseValueList(this)), (d, e) => this.jp(d, e, this.w1(), runOn(this, this.x1), new SplineFragmentBaseValueList(this)));
        }
        ag() {
            return [this.w1(), this.xh()];
        }
        abi(a, b, c) {
            if (this.c1 == null) {
                return NaN;
            }
            let d = this.getEffectiveViewport1(this.cl);
            let e = new ScalerParams(0, this.c1.vh, this.cl.bx, this.w1().ch, d);
            let f = this.w7.r(this.w1(), this.c1.vh, this.cl.bx, d);
            return this.io(new SplineFragmentBaseValueList(this), a, this.w1(), e, f, runOn(this, this.x1), b, c);
        }
        ji() {
            let a = this.parentSeries;
            if (a.index == -1 || a.y1 == null || a.y1.f.indexOf(this) == -1) {
                return -1;
            }
            return a.y1.f.indexOf(this);
        }
        resolveLegendIndex() {
            let a = this.parentSeries;
            if (a.y5) {
                return -1 + a.index + a.yw.count - a.y1.f.indexOf(this);
            }
            return super.resolveLegendIndex();
        }
        jn() {
            let a = this.parentSeries;
            if (a.index == -1 || a.series.count == 0 || a.series.indexOf(this.logicalSeriesLink) == -1) {
                return -1;
            }
            return a.series.indexOf(this.logicalSeriesLink);
        }
        bg() {
            return this.parentSeries;
        }
        aa0(a, b, c, d, e, f, g) {
            let h = b[0];
            let i = b[1];
            let j = new Rect(0, h - 5, i - 5, 11, 11);
            if (!isNaN_(h) && !isNaN_(i) && !isInfinity(h) && !isInfinity(i) && c.tryAdd(j)) {
                a.n.add({ $type: Point_$type, x: h, y: i });
                let k = f.cx.item(e);
                k.content.item = this.dd.item(d);
                k.al = g;
                return true;
            }
            return false;
        }
        gw(a, b, c) {
            let d = super.gw(a, b, c);
            let e = typeCast(CategoryAxisBase.$, this.parentSeries.fetchXAxis());
            let f = this.parentSeries.fetchYAxis();
            if (this.parentSeries == null || e == null || e.itemsSource == null || f == null || this.parentSeries.dd == null || e.bi == null || f.bi == null) {
                d = false;
            }
            if (this.valueColumn == null) {
                return false;
            }
            if (isInfinity(this.valueColumn.minimum) && isInfinity(this.valueColumn.maximum)) {
                d = false;
            }
            if (isNaN_(this.valueColumn.minimum) && isNaN_(this.valueColumn.maximum)) {
                d = false;
            }
            return d;
        }
        aq(a) {
            return null;
        }
        abj(a, b, c, d, e, f) {
            let g = typeCast(ISortingAxis_$type, d);
            if (g == null) {
                return;
            }
            let h = this.getEffectiveViewport1(f);
            let i = new ScalerParams(0, b, c, d.ch, h);
            let j = new ScalerParams(0, b, c, e.ch, h);
            let k = d.em(2, i) - d.em(1, i);
            let l = this.vr();
            let m = 0;
            let n = this.aa4(d, b, c, h);
            let o = (p) => Math.abs(this.parentSeries.yt[p]) + this.parentSeries.ys[p];
            let p = (q) => q;
            let q = (r) => {
                let s = g.i$b._inner[r];
                if (typeCast(IStacked100Series_$type, this.parentSeries) !== null) {
                    return this.valueColumn.item(s) < 0 ? (this.logicalSeriesLink.a8._inner[s] + this.valueColumn.item(s)) / o(s) * 100 : (this.logicalSeriesLink.a7._inner[s] + this.valueColumn.item(s)) / o(s) * 100;
                }
                else {
                    return this.valueColumn.item(s) < 0 ? this.logicalSeriesLink.a8._inner[s] + this.valueColumn.item(s) : this.logicalSeriesLink.a7._inner[s] + this.valueColumn.item(s);
                }
            };
            let r = this.xb.cu.f;
            let s = this.xb.cu.e;
            let t = truncate(Math.ceil(c.width / (r - s)));
            let u = new CollisionAvoider();
            let v = this.xb.cu.d;
            if (v <= 0 || (s <= 0 && r <= 0)) {
                this.xb.cx.count = m;
                return;
            }
            let w = 0;
            for (let x = s; x < r + 1; ++x) {
                let y = null;
                let z = x * v;
                if (g != null && g.i$b != null && z >= 0 && z < g.i$b.count) {
                    z = g.i$b._inner[z];
                }
                if (x >= (this.valueColumn.count - 1)) {
                    if (l && this.aa0(a, a.f._inner[a.f.count - 1], u, Math.min(z, this.dd.count - 1), m, f, w - 1)) {
                        ++m;
                    }
                    break;
                }
                let aa = p(x);
                let ab = q(x);
                let ac = p(x + 1);
                let ad = q(x + 1);
                let ae = ac - aa;
                let af = this.aaw[x];
                let ag = this.aaw[x + 1];
                let ah = g.i$d(g.i$b._inner[x]);
                let ai = d.ej(ah, i) + n;
                let aj = e.ej(ab, j);
                a.f.add([ai, aj, aj]);
                w++;
                for (let ak = 1; ak < t; ++ak) {
                    let al = ak / t;
                    let am = aa + ae * al;
                    let an = (ac - am) / ae;
                    let ao = (am - aa) / ae;
                    let ap = an * ab + ao * ad + ((an * an * an - an) * af + (ao * ao * ao - ao) * ag) * (ae * ae) / 6;
                    let aq = g.i$d(g.i$b._inner[x]);
                    let ar = g.i$d(g.i$b._inner[x + 1]);
                    if (aq == ar && ab == ad) {
                        break;
                    }
                    let as = aq + (ar - aq) * al;
                    am = d.ej(as, i) + n;
                    ap = e.ej(ap, j);
                    a.f.add([am, ap, ap]);
                    w++;
                }
                if (l) {
                    y = [ai, aj, aj];
                }
                if (l && this.aa0(a, y, u, Math.min(z, this.dd.count - 1), m, f, w - 1)) {
                    ++m;
                }
            }
            this.xb.cx.count = m;
        }
        yi(a, b) {
            a.v();
            if (this.valueColumn == null || this.parentSeries == null || this.logicalSeriesLink == null) {
                return;
            }
            if (this.logicalSeriesLink.a8.count == 0 || this.logicalSeriesLink.a7.count == 0) {
                return;
            }
            if (this.xb.cu.d == 0) {
                return;
            }
            super.yi(a, b);
            if (a.f.count <= 1) {
                return;
            }
            let c = b.by;
            let d = b.bx;
            let e = this.getEffectiveViewport1(b);
            let f = typeCast(CategoryAxisBase.$, this.parentSeries.fetchXAxis());
            let g = typeCast(NumericYAxis.$, this.parentSeries.fetchYAxis());
            let h = new ScalerParams(0, c, d, f.ch, e);
            let i = new ScalerParams(0, c, d, g.ch, e);
            a.f.clear();
            a.n.clear();
            let j = this.vr();
            let k = 0;
            let l;
            let m;
            if (b.p) {
                l = this.parentSeries.yu;
                m = this.parentSeries.a2.a$i.item(b.ad);
            }
            else if (b == this.ck) {
                l = this.parentSeries.w5;
                m = typeCast(CategorySeriesView.$, this.parentSeries.ck);
            }
            else {
                l = this.parentSeries.w2;
                m = this.parentSeries.xb;
            }
            let n = m.cu.d;
            let o = typeCast(ISortingAxis_$type, f);
            if (o != null && o.i$b.count != this.dd.count) {
                return;
            }
            let p = this.preferredCategoryMode(f);
            if (p == 0 && f.categoryMode != 0) {
                p = 1;
            }
            let q = 0;
            switch (p) {
                case 0:
                    q = 0;
                    break;
                case 1:
                    q = 0.5 * f.getCategorySize(c, d, e);
                    break;
                case 2:
                    let r = this.index;
                    q = f.getGroupCenter(this.index, c, d, e);
                    break;
            }
            if (f.ch) {
                q = -q;
            }
            let s = (t) => Math.abs(this.parentSeries.yt[t]) + this.parentSeries.ys[t];
            let t = (u) => u;
            let u = (v) => {
                let w = this.valueColumn.item(v);
                if (isNaN_(w) || isInfinity(w)) {
                    w = 0;
                }
                if (typeCast(IStacked100Series_$type, this.parentSeries) !== null) {
                    if (s(v) == 0) {
                        return 0;
                    }
                    return w < 0 ? (this.logicalSeriesLink.a8._inner[v] + w) / s(v) * 100 : (this.logicalSeriesLink.a7._inner[v] + w) / s(v) * 100;
                }
                return w < 0 ? this.logicalSeriesLink.a8._inner[v] + w : this.logicalSeriesLink.a7._inner[v] + w;
            };
            let v = b.cu.d;
            this.aa9(b);
            let w = m.cu.e;
            let x = m.cu.f;
            let y = truncate(Math.ceil(d.width / (x - w)));
            let z = new CollisionAvoider();
            if (o != null) {
                this.abj(a, c, d, f, g, b);
                return;
            }
            let aa = 0;
            let ab = 0;
            for (let ac = w; ac < x + 1; ++ac) {
                if (ac >= this.valueColumn.count) {
                    break;
                }
                let ad = null;
                if (v == 1) {
                    if (ac >= (this.valueColumn.count - 1)) {
                        if (j && a.f.count > 0 && this.aa0(a, a.f._inner[a.f.count - 1], z, Math.min(ac * v, this.dd.count - 1), k, b, aa - 1)) {
                            ++k;
                        }
                        break;
                    }
                    let ae = t(ac);
                    let af = t(ac + 1);
                    let ag = u(ac);
                    let ah = u(ac + 1);
                    let ai = af - ae;
                    let aj = this.aaw[ac];
                    let ak = this.aaw[ac + 1];
                    let al = f.ej(ae, h) + q;
                    let am = g.ej(ag, i);
                    a.f.add([al, am, am]);
                    aa++;
                    ab = aa;
                    for (let an = 1; an < y; ++an) {
                        let ao = ae + ai * an / y;
                        let ap = (af - ao) / ai;
                        let aq = (ao - ae) / ai;
                        let ar = ap * ag + aq * ah + ((ap * ap * ap - ap) * aj + (aq * aq * aq - aq) * ak) * (ai * ai) / 6;
                        ao = f.ej(ao, h) + q;
                        ar = g.ej(ar, i);
                        a.f.add([ao, ar, ar]);
                        aa++;
                    }
                    if (j) {
                        ad = [al, am, am];
                    }
                }
                else {
                    ad = b.cu.getBucket(ac);
                    if (!isNaN_(ad[0])) {
                        ad[0] = f.ej(ad[0], h) + q;
                        ad[1] = g.ej(ad[1], i);
                        ad[2] = g.ej(ad[2], i);
                        a.f.add(ad);
                        aa++;
                        ab = aa;
                    }
                }
                if (j && this.aa0(a, ad, z, Math.min(ac * v, this.dd.count - 1), k, b, ab - 1)) {
                    ++k;
                }
            }
            b.cx.count = k;
        }
        aau(a) {
            let b = (c) => Math.abs(this.parentSeries.yt[c]) + this.parentSeries.ys[c];
            let c = (d) => d;
            let d = (e) => {
                let f = this.valueColumn.item(e);
                if (isNaN_(f) || isInfinity(f)) {
                    f = 0;
                }
                if (typeCast(IStacked100Series_$type, this.parentSeries) !== null) {
                    if (b(e) == 0) {
                        return 0;
                    }
                    return f < 0 ? (this.logicalSeriesLink.a8._inner[e] + f) / b(e) * 100 : (this.logicalSeriesLink.a7._inner[e] + f) / b(e) * 100;
                }
                return f < 0 ? this.logicalSeriesLink.a8._inner[e] + f : this.logicalSeriesLink.a7._inner[e] + f;
            };
            let e = new List$1(Array_$type, 0);
            let f = a.by;
            let g = a.bx;
            let h = typeCast(ISortingAxis_$type, this.aab);
            let i = 0;
            let j = 0;
            let k = 0;
            let l = this.hu;
            let m = this.u1(this.cl);
            let n = this.aab;
            let o = this.getEffectiveViewport1(a);
            if (h == null || h.i$b == null) {
                let p = new ScalerParams(0, f, g, n.ch, o);
                let q = 0;
                let r = n.lg - 1;
                let s = Math.floor((r - q + 1) * l / m.width);
                i = truncate(Math.max(1, s));
                j = truncate(Math.max(0, Math.floor(q / i) - 1));
                k = truncate(Math.ceil(r / i));
            }
            else {
                j = 0;
                k = n.lg - 1;
                i = 1;
            }
            let t = truncate(Math.ceil(g.width / (k - j)));
            let u = new CollisionAvoider();
            if (h != null) {
                return this.aav(a);
            }
            let v = 0;
            let w = 0;
            for (let x = j; x < k + 1; ++x) {
                if (x >= this.valueColumn.count) {
                    break;
                }
                let y = null;
                if (i == 1) {
                    if (x >= (this.valueColumn.count - 1)) {
                        break;
                    }
                    let z = c(x);
                    let aa = c(x + 1);
                    let ab = d(x);
                    let ac = d(x + 1);
                    let ad = aa - z;
                    let ae = this.aaw[x];
                    let af = this.aaw[x + 1];
                    e.add([ab, ab]);
                    for (let ag = 1; ag < t; ++ag) {
                        let ah = z + ad * ag / t;
                        let ai = (aa - ah) / ad;
                        let aj = (ah - z) / ad;
                        let ak = ai * ab + aj * ac + ((ai * ai * ai - ai) * ae + (aj * aj * aj - aj) * af) * (ad * ad) / 6;
                        e.add([ak, ak]);
                    }
                }
                else {
                    y = a.cu.getBucket(x);
                    if (!isNaN_(y[0])) {
                        e.add([y[0], y[1]]);
                    }
                }
            }
            return e.toArray();
        }
        aav(a) {
            let b = new List$1(Array_$type, 0);
            let c = a.by;
            let d = a.bx;
            let e = this.aab;
            let f = typeCast(ISortingAxis_$type, e);
            if (f == null) {
                return null;
            }
            let g = this.getEffectiveViewport1(a);
            let h = this.vr();
            let i = 0;
            let j = (k) => Math.abs(this.parentSeries.yt[k]) + this.parentSeries.ys[k];
            let k = (l) => l;
            let l = (m) => {
                let n = f.i$b._inner[m];
                if (typeCast(IStacked100Series_$type, this.parentSeries) !== null) {
                    return this.valueColumn.item(n) < 0 ? (this.logicalSeriesLink.a8._inner[n] + this.valueColumn.item(n)) / j(n) * 100 : (this.logicalSeriesLink.a7._inner[n] + this.valueColumn.item(n)) / j(n) * 100;
                }
                else {
                    return this.valueColumn.item(n) < 0 ? this.logicalSeriesLink.a8._inner[n] + this.valueColumn.item(n) : this.logicalSeriesLink.a7._inner[n] + this.valueColumn.item(n);
                }
            };
            let m = 0;
            let n = 0;
            let o = 0;
            let p = this.hu;
            let q = this.u1(this.cl);
            if (f == null || f.i$b == null) {
                let r = 0;
                let s = e.lg - 1;
                let t = Math.floor((s - r + 1) * p / q.width);
                m = truncate(Math.max(1, t));
                n = truncate(Math.max(0, Math.floor(r / m) - 1));
                o = truncate(Math.ceil(s / m));
            }
            else {
                n = 0;
                o = e.lg - 1;
                m = 1;
            }
            if (m <= 0 || (n <= 0 && o <= 0)) {
                this.xb.cx.count = i;
                return null;
            }
            let u = truncate(Math.ceil(d.width / (o - n)));
            let v = new CollisionAvoider();
            let w = 0;
            for (let x = n; x < o + 1; ++x) {
                let y = null;
                if (x >= (this.valueColumn.count - 1)) {
                    break;
                }
                let z = k(x);
                let aa = l(x);
                let ab = k(x + 1);
                let ac = l(x + 1);
                let ad = ab - z;
                let ae = this.aaw[x];
                let af = this.aaw[x + 1];
                b.add([aa, aa]);
                for (let ag = 1; ag < u; ++ag) {
                    let ah = ag / u;
                    let ai = z + ad * ah;
                    let aj = (ab - ai) / ad;
                    let ak = (ai - z) / ad;
                    let al = aj * aa + ak * ac + ((aj * aj * aj - aj) * ae + (ak * ak * ak - ak) * af) * (ad * ad) / 6;
                    b.add([al, al]);
                }
            }
            return b.toArray();
        }
        aa9(a) {
            super.aa9(a);
            let b = (c) => Math.abs(this.parentSeries.yt[c]) + this.parentSeries.ys[c];
            let c = (d) => d;
            let d = (e) => {
                let f = this.valueColumn.item(e);
                if (isNaN_(f) || isInfinity(f)) {
                    f = 0;
                }
                if (typeCast(IStacked100Series_$type, this.parentSeries) !== null) {
                    if (b(e) == 0) {
                        return 0;
                    }
                    return f < 0 ? (this.logicalSeriesLink.a8._inner[e] + f) / b(e) * 100 : (this.logicalSeriesLink.a7._inner[e] + f) / b(e) * 100;
                }
                return f < 0 ? this.logicalSeriesLink.a8._inner[e] + f : this.logicalSeriesLink.a7._inner[e] + f;
            };
            let e = this.aab;
            let f = this.aay == 0 ? NaN : 0;
            if (e != null && typeCast(ISortingAxis_$type, e) !== null && e.i$b != null) {
                let g = new SafeSortedReadOnlyDoubleCollection(0, this.valueColumn, e.i$b);
                d = (h) => g.item(h);
            }
            this.aaw = Numeric.c(this.valueColumn.count, c, d, f, f);
            if (this.aaz) {
                let h = -1.7976931348623157E+308;
                let i = 1.7976931348623157E+308;
                let j = this.aau(a);
                if (j == null) {
                    return;
                }
                for (let k = 0; k < j.length; k++) {
                    if (isNaN_(j[k][0]) || isNaN_(j[k][1])) {
                        continue;
                    }
                    if (j[k][1] > h) {
                        h = j[k][1];
                    }
                    if (j[k][0] < i) {
                        i = j[k][0];
                    }
                }
                this.aa6 = i;
                this.aa5 = h;
            }
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case "ActualBrush":
                    if (this.logicalSeriesLink != null) {
                        this.logicalSeriesLink.ku = this.tw;
                    }
                    break;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    SplineFragmentBase.$t = /*@__PURE__*/ markType(SplineFragmentBase, 'SplineFragmentBase', SplineSeriesBase.$);
    return SplineFragmentBase;
})();
/**
 * @hidden
 */
export let SplineAreaFragment = /*@__PURE__*/ (() => {
    class SplineAreaFragment extends SplineFragmentBase {
        bb() {
            return new SplineAreaFragment();
        }
        constructor() {
            super();
            this.abo = null;
            this.ab = SplineAreaFragment.$;
        }
        ci() {
            return new SplineAreaFragmentView(this);
        }
        px(a) {
            super.px(a);
            this.abk = typeCast(SplineAreaFragmentView.$, a);
        }
        ac() {
            super.ac();
            this.qm(false);
        }
        get_eg() {
            return true;
        }
        get_ef() {
            return true;
        }
        get_fl() {
            return true;
        }
        xc() {
            return 1;
        }
        abm(a, b) {
            let c = this.abk.dl.an;
            if (this.gh(a, c)) {
                return true;
            }
            let d = this.abk.dm.an;
            if (this.gh(a, d)) {
                return true;
            }
            return false;
        }
        gf(a, b) {
            if (this.abl(a, b)) {
                return true;
            }
            if (this.abm(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        abl(a, b) {
            let c = this.abk.dn.an;
            if (this.gg(a, b, c)) {
                return true;
            }
            let d = this.abk.dp.an;
            if (this.gg(a, b, d)) {
                return true;
            }
            return false;
        }
        n7(a, b) {
            super.n7(a, b);
            let c = b;
            c.dg();
        }
        yl(a, b) {
            super.yl(a, b);
            this.abe.a = typeCast(ISortingAxis_$type, this.xAxis) !== null ? true : false;
            let c = a.f;
            let d = this.getEffectiveViewport1(b);
            this.xa.a2(this, this.xu(), runOn(this, this.wv), this.x3(b), this.x4(b));
            let e = false;
            let f = this.xa.b;
            if (f != null) {
                e = true;
            }
            if (e) {
                let g = new ScalerParams(0, b.by, b.bx, this.aab.ch, d);
                this.yh(c, -1, this.valueColumn.count, this.aab, g, b.q, -1);
            }
            let h = typeCast(SplineAreaFragmentView.$, b);
            let i = b.cu.d;
            this.xa.ad(h.dn, true, false, true, true);
            this.xa.ad(h.dp, true, false, true, true);
            this.xa.ad(h.dl, false, true, false, false);
            this.xa.ad(h.dm, false, true, false, false);
            h.dl._opacity = this.xa.j * this.hq;
            h.dm._opacity = 0.5 * this.xa.j * this.hq;
            this.abe.i(h.dl, h.dn, h.dm, h.dp, a.f.count, a.f, true, i, this.hu, (j, k, l, m, n) => this.abn(j, a.f, b), 1);
        }
        qo(a, b) {
            super.qo(a, b);
        }
        abn(a, b, c) {
            let d = this.y7(c);
            let e = d;
            let f = this.logicalSeriesLink.az;
            let g = f ? this.parentSeries.y1.e : this.parentSeries.y1.d;
            let h = g.indexOf(this);
            if (a.count == 0) {
                return;
            }
            if (h == -1) {
                return;
            }
            let i = false;
            for (let j = h; j >= 0; j--) {
                if (i) {
                    break;
                }
                if (j == 0) {
                    a.add({ $type: Point_$type, x: a._inner[a.count - 1].x, y: e });
                    a.add({ $type: Point_$type, x: a._inner[0].x, y: e });
                    break;
                }
                let k = typeCast(SplineFragmentBase.$, g._inner[j - 1]);
                if (k != null && k.abe != null && k.abe.o.count > 0 && this.cl != null && k.gw(this.cl.bx, this.cl.by, this.cl)) {
                    i = true;
                    for (let l = k.abe.o.count - 1; l >= 0; l--) {
                        a.add(k.abe.o._inner[l]);
                    }
                }
            }
        }
        y7(a) {
            let b = 0;
            let c = a.by;
            let d = a.bx;
            let e = this.getEffectiveViewport1(a);
            let f = new ScalerParams(0, c, d, this.yAxis.ch, e);
            if (!c.isEmpty && !d.isEmpty && this.yAxis != null) {
                b = this.yAxis.ej(0, f);
            }
            return b;
        }
        q6() {
            let a = (typeCast(XamDataChart.$, this.c1));
            if (a != null) {
                this.hq = isNaN_(this.h0) ? this.parentSeries.hq : this.h0;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    SplineAreaFragment.$t = /*@__PURE__*/ markType(SplineAreaFragment, 'SplineAreaFragment', SplineFragmentBase.$);
    return SplineAreaFragment;
})();
/**
 * @hidden
 */
export let SplineFragment = /*@__PURE__*/ (() => {
    class SplineFragment extends SplineFragmentBase {
        bb() {
            return new SplineFragment();
        }
        get_fl() {
            return true;
        }
        xw() {
            return true;
        }
        constructor() {
            super();
            this.ab = SplineFragment.$;
        }
        ci() {
            return new SplineFragmentView(this);
        }
        px(a) {
            super.px(a);
            this.abk = a;
        }
        abm(a, b) {
            let c = this.abk.dk.an;
            if (this.gh(a, c)) {
                return true;
            }
            return false;
        }
        get_eg() {
            return true;
        }
        gf(a, b) {
            if (this.abl(a, b)) {
                return true;
            }
            if (this.abm(a, b)) {
                return true;
            }
            if (this.vs(a, b)) {
                return true;
            }
            return false;
        }
        abl(a, b) {
            let c = this.abk.dl.an;
            if (this.gg(a, b, c)) {
                return true;
            }
            let d = this.abk.dm.an;
            if (this.gg(a, b, d)) {
                return true;
            }
            return false;
        }
        n7(a, b) {
            super.n7(a, b);
            let c = b;
            c.dg();
        }
        yl(a, b) {
            super.yl(a, b);
            this.abe.a = typeCast(ISortingAxis_$type, this.xAxis) !== null ? true : false;
            let c = typeCast(SplineFragmentView.$, b);
            let d = a.f;
            let e = this.getEffectiveViewport1(b);
            this.xa.a2(this, this.xu(), runOn(this, this.wv), this.x3(b), this.x4(b));
            let f = false;
            let g = this.xa.b;
            if (g != null) {
                f = true;
            }
            if (f) {
                let h = new ScalerParams(0, b.by, b.bx, this.aab.ch, e);
                this.yh(d, -1, this.valueColumn.count, this.aab, h, b.q, -1);
            }
            this.xa.ad(c.dl, true, false, true, false);
            this.xa.ad(c.dm, true, false, true, false);
            this.xa.ad(c.dk, false, true, false, false);
            c.dk._opacity = 0.75 * this.xa.j;
            let i = c.cu.d;
            this.abe.m(c.dl, c.dk, c.dm, a.f.count, a.f, true, 1, this.yt(a.f, a.f.count - 1, b.bx, b.by), i, this.hu);
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    SplineFragment.$t = /*@__PURE__*/ markType(SplineFragment, 'SplineFragment', SplineFragmentBase.$);
    return SplineFragment;
})();
/**
 * @hidden
 */
export let SplineFragmentBaseValueList = /*@__PURE__*/ (() => {
    class SplineFragmentBaseValueList extends Base {
        constructor(a) {
            super();
            this.a = null;
            this.a = a;
        }
        indexOf(a) {
            throw new NotImplementedException(0);
        }
        insert(a, b) {
            throw new NotImplementedException(0);
        }
        removeAt(a) {
            throw new NotImplementedException(0);
        }
        item(a, b) {
            if (arguments.length === 2) {
                throw new NotImplementedException(0);
                return b;
            }
            else {
                let b = false;
                if (this.a.parentSeries != null) {
                    b = this.a.parentSeries.y4;
                }
                let c = this.a.parentSeries;
                if (c == null) {
                    return NaN;
                }
                let d = this.a.valueColumn.item(a);
                let e = Math.abs(c.yt[a]) + c.ys[a];
                let f = this.a.logicalSeriesLink.a7;
                let g = this.a.logicalSeriesLink.a8;
                if (isNaN_(d) || isInfinity(d)) {
                    d = 0;
                }
                if (b) {
                    if (e == 0) {
                        d = 0;
                    }
                    else if (d < 0) {
                        d = (g._inner[a] + d) / e * 100;
                    }
                    else {
                        d = (f._inner[a] + d) / e * 100;
                    }
                }
                else {
                    d = d < 0 ? g._inner[a] + d : f._inner[a] + d;
                }
                return d;
            }
        }
        add(a) {
            throw new NotImplementedException(0);
        }
        clear() {
            throw new NotImplementedException(0);
        }
        contains(a) {
            throw new NotImplementedException(0);
        }
        copyTo(a, b) {
            throw new NotImplementedException(0);
        }
        get count() {
            return this.a.valueColumn.count;
        }
        get isReadOnly() {
            throw new NotImplementedException(0);
        }
        remove(a) {
            throw new NotImplementedException(0);
        }
        getEnumerator() {
            throw new NotImplementedException(0);
        }
        getEnumeratorObject() {
            return this.getEnumerator();
        }
    }
    SplineFragmentBaseValueList.$t = /*@__PURE__*/ markType(SplineFragmentBaseValueList, 'SplineFragmentBaseValueList', Base.$, [/*@__PURE__*/ IList$1_$type.specialize(Number_$type)]);
    return SplineFragmentBaseValueList;
})();
/**
 * @hidden
 */
export let StackedSeriesBase = /*@__PURE__*/ (() => {
    class StackedSeriesBase extends CategorySeries {
        constructor() {
            super();
            this._series = null;
            this.seriesCreated = null;
            this.zb = 0;
            this.za = 0;
            this.ys = null;
            this.yt = null;
            this.y0 = null;
            this.yx = null;
            this.y7 = new Dictionary$2(String_$type, Boolean_$type, 0);
            this.yu = null;
            this.series = new StackedSeriesCollection();
            let a = this.series;
            a.collectionResetting = delegateCombine(a.collectionResetting, runOn(this, this.zn));
            let b = this.series;
            b.collectionChanged = delegateCombine(b.collectionChanged, runOn(this, this.zm));
            this.w7 = new StackedSeriesFramePreparer(1, this, this.y2, this, this, this.y2.cu);
            this.yx = new StackedSeriesCollection();
            let c = this.yx;
            c.collectionChanged = delegateCombine(c.collectionChanged, runOn(this, this.zm));
            let d = this.yx;
            d.collectionResetting = delegateCombine(d.collectionResetting, runOn(this, this.zh));
        }
        pc() {
            for (let a of fromEnum(this.yw)) {
                a.gw();
            }
            super.pc();
        }
        get_ez() {
            return false;
        }
        getHostReferenceValue() {
            return this.id();
        }
        ci() {
            return new StackedSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.y2 = a;
        }
        py(a, b) {
            super.py(a, b);
            for (let c of fromEnum(this.series)) {
                c.visualSeriesLink.cl.bx = b;
            }
        }
        get series() {
            return this._series;
        }
        set series(a) {
            this._series = a;
        }
        js() {
            if (this.series == null) {
                return -1;
            }
            return this.series.count;
        }
        o0(a) {
            for (let b = 0; b < this.y1.f.count; b++) {
                let c = this.y1.f._inner[b];
                if (!a(c)) {
                    break;
                }
            }
            super.o0(a);
        }
        get_isStacked() {
            return true;
        }
        get y1() {
            if (this.y0 == null) {
                this.y0 = new StackedSeriesManager(this);
            }
            return this.y0;
        }
        set y1(a) {
            this.y0 = a;
        }
        get yw() {
            return this.y3 ? this.yx : this.series;
        }
        zh(a, b) {
            for (let c of fromEnum(this.yx)) {
                if (this.y1 != null && this.y1.c.contains(c)) {
                    c.parentSeries = null;
                    this.y1.c.remove(c);
                }
            }
        }
        zn(a, b) {
            for (let c of fromEnum(this.series)) {
                if (this.y1 != null && this.y1.c.contains(c)) {
                    c.parentSeries = null;
                    this.y1.c.remove(c);
                }
            }
        }
        zm(a, b) {
            if (b.oldItems != null) {
                for (let c of fromEn(b.oldItems)) {
                    if (this.y1 != null && this.y1.c.contains(c)) {
                        c.parentSeries = null;
                        this.y1.c.remove(c);
                    }
                }
            }
            if (b.newItems != null) {
                let d = b.newStartingIndex;
                for (let e of fromEn(b.newItems)) {
                    if (this.y1 != null && !this.y1.c.contains(e)) {
                        e.parentSeries = this;
                        e.gc();
                        e.g3();
                        e.g4();
                        e.hi();
                        e.g5();
                        e.g6();
                        e.f4();
                        e.f5();
                        e.gb();
                        e.ga();
                        e.f6();
                        e.gd();
                        e.gj();
                        e.gk();
                        e.gl();
                        e.gu();
                        e.gw();
                        e.go();
                        e.gr();
                        e.gt();
                        e.gu();
                        e.gv();
                        e.gs();
                        e.gp();
                        e.hg();
                        e.hk();
                        e.hj();
                        e.f7();
                        e.f8();
                        e.gx();
                        e.gy();
                        e.gz();
                        e.f9();
                        e.f3();
                        e.g1();
                        e.g2();
                        e.gm();
                        e.g7();
                        e.gn();
                        e.g9();
                        e.gq();
                        e.g0();
                        e.ha();
                        e.hb();
                        e.gf();
                        e.hf();
                        e.hc();
                        e.he();
                        e.hh();
                        e.hm();
                        if (!this.y3) {
                            this.y1.c.insert(d, e);
                            d++;
                        }
                    }
                }
            }
            if (!this.y3) {
                this.zo();
            }
        }
        qz(a) {
            this.cz.c8.c8(a, true, false);
        }
        w8(a) {
            if (a != null && a.q) {
                if (a.p) {
                    return new StackedSeriesFramePreparer(1, typeCast(IIsCategoryBased_$type, this), typeCast(ISupportsMarkers_$type, a), a, this, a.cu);
                }
                else {
                    let b = typeCast(CategorySeriesView.$, this.ck);
                    return new StackedSeriesFramePreparer(1, this, typeCast(ISupportsMarkers_$type, b), this.c1.c8.o, this, b.cu);
                }
            }
            else {
                return this.w7;
            }
        }
        yi(a, b) {
            a.v();
            this.zk();
            this.w8(b).d(a, b);
        }
        qn(a) {
            super.qn(a);
            this.y1.h(a);
        }
        get_gd() {
            return false;
        }
        n7(a, b) {
            super.n7(a, b);
            for (let c of fromEnum(this.yw)) {
                if (c.visualSeriesLink != null) {
                    c.visualSeriesLink.n7(a, c.visualSeriesLink.cl);
                }
            }
        }
        zi() {
            this.zk();
        }
        zo() {
            let a = this.fetchXAxis();
            if (a != null) {
                a.c2(true);
            }
            let b = this.fetchYAxis();
            if (b != null) {
                b.c2(true);
            }
        }
        get_y4() {
            return false;
        }
        get y4() {
            return this.get_y4();
        }
        fx(a) {
            let b = this.dd != null ? this.dd.indexOf(a) : -1;
            let c = this.c1 != null ? this.c1.vh : Rect.empty;
            c = c.copy();
            let d = this.cl.bx;
            let e = new Rect(0, 0, 0, 1, 1);
            let f = this.u3(this.cl);
            if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {
                let g = this.fetchXAxis();
                if (g != null) {
                    let h = new ScalerParams(0, e, e, g.ch, f);
                    let i = g.ej(b, h);
                    if (i < c.left + 0.1 * c.width) {
                        i = i + 0.4 * c.width;
                    }
                    if (i > c.right - 0.1 * c.width) {
                        i = i - 0.4 * c.width;
                    }
                    c.x = i - 0.5 * c.width;
                }
                let j = this.fetchYAxis();
                if (j != null && this.ys != null && b < this.ys.length) {
                    let k = new ScalerParams(0, e, e, j.ch, f);
                    let l = j.ej(this.ys[b], k);
                    let m = j.ej(this.yt[b], k);
                    if (!isNaN_(l) && !isNaN_(m)) {
                        let n = Math.abs(m - l);
                        if (c.height < n) {
                            c.height = n;
                            c.y = Math.min(m, l);
                        }
                        else {
                            if (m < c.top + 0.1 * c.height) {
                                m = m + 0.4 * c.height;
                            }
                            if (m > c.bottom - 0.1 * c.height) {
                                m = m - 0.4 * c.height;
                            }
                            c.y = m - 0.5 * c.height;
                        }
                    }
                }
                this.ct.au(this.c1, c, true);
            }
            return b >= 0;
        }
        aq(a) {
            if (this.yt == null || this.yt.length == 0 || this.ys == null || this.ys.length == 0) {
                return null;
            }
            if (a == this.fetchXAxis()) {
                let b = Math.min(this.yt.length, this.ys.length);
                return new AxisRange(0, b - 1);
            }
            if (a == this.fetchYAxis()) {
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        vr() {
            return false;
        }
        oc(a, b, c, d) {
            this.zk();
            this.xx();
            this.qm(true);
        }
        yv() {
            return this.y2;
        }
        y8() {
            let a = 0;
            let b = this.cl.by;
            let c = this.cl.bx;
            let d = this.getEffectiveViewport1(this.cl);
            let e = typeCast(NumericYAxis.$, this.fetchYAxis());
            if (!b.isEmpty && !c.isEmpty && e != null) {
                let f = new ScalerParams(0, b, c, e.ch, d);
                a = e.ej(e.l7, f);
            }
            return a;
        }
        y9() {
            let a = typeCast(NumericYAxis.$, this.fetchYAxis());
            if (a != null) {
                return a.l7;
            }
            return 0;
        }
        zd(a) {
            return this.index < 0 || this.yw == null || this.yw.count == 0 ? -1 : this.index + this.yw.indexOf(a);
        }
        zc(a) {
            let b = this.c1 != null ? this.c1.vh : Rect.empty;
            let c = this.cl.bx;
            let d = this.getEffectiveViewport1(this.cl);
            let e = typeCast(CategoryAxisBase.$, this.fetchXAxis());
            let f = -1;
            if (e != null && !b.isEmpty && !c.isEmpty) {
                let g = new ScalerParams(0, b, c, e.ch, d);
                let h = this.u1(this.cl);
                let i = e.em(h.left, g);
                let j = e.em(h.right, g);
                let k = (a.x - b.left) / b.width;
                let l = i + (k * (j - i));
                if (e.categoryMode != 0) {
                    l -= 0.5;
                }
                let m = truncate(Math.round(l));
                f = m;
            }
            return f;
        }
        y6(a, b, c, d) {
            let e = true;
            let f = typeCast(CategoryAxisBase.$, this.fetchXAxis());
            let g = typeCast(NumericYAxis.$, this.fetchYAxis());
            if (!d.o() || c.isEmpty || b.isEmpty || f == null || f.itemsSource == null || g == null || this.dd == null || f.bi == null || g.bi == null || g.lx == g.lw) {
                e = false;
            }
            let h = d;
            let i = h.cu.d;
            if (a.valueColumn == null || a.valueColumn.count == 0 || i < 1 || a._visibility != 0) {
                e = false;
            }
            return e;
        }
        zj() {
            if (this.c1 == null || this.y1 == null) {
                return;
            }
            if (!this.y3) {
                this.yx.clear();
                for (let a of fromEnum(this.series)) {
                    if (!this.y1.c.contains(a)) {
                        this.y1.c.add(a);
                    }
                }
                this.zo();
                return;
            }
        }
        yl(a, b) {
            super.yl(a, b);
        }
        zl(a, b, c, d) {
        }
        ar(a) {
            if (a.isEmpty && this.c1 != null) {
                a = this.c1.vh;
            }
            let b = this.w1();
            if (this.ys == null || this.yt == null) {
                return null;
            }
            let c = this.u1(this.cl);
            let d = new ScalerParams(0, a, this.c1.vw, b.ch, this.getEffectiveViewport());
            let e = (b.em(c.left, d));
            let f = (b.em(c.right, d));
            if (b.ch) {
                let g = e;
                e = f;
                f = g;
            }
            let h = null;
            if (b.cn) {
                h = b;
                e = h.i$f(e);
                f = h.i$f(f);
            }
            else {
                e = Math.floor(e);
                f = Math.ceil(f);
            }
            e = Math.max(0, Math.min(this.yt.length - 1, e));
            f = Math.max(0, Math.min(this.yt.length - 1, f));
            let i = 1.7976931348623157E+308;
            let j = -1.7976931348623157E+308;
            for (let k = truncate(e); k <= truncate(f); k++) {
                let l = k;
                if (h != null) {
                    l = h.i$b._inner[k];
                }
                let m = this.yt[l];
                {
                    if (isInfinity(m) || isNaN_(m)) {
                        continue;
                    }
                }
                let n = this.ys[l];
                {
                    if (isInfinity(n) || isNaN_(n)) {
                        continue;
                    }
                }
                i = Math.min(i, m);
                j = Math.max(j, n);
            }
            let o = new AxisRange(i, j);
            let p = this.xh();
            o = this.ap(o, p, a);
            return o;
        }
        qq() {
            super.qq();
            for (let a of fromEnum(this.yw)) {
                a.f1();
            }
        }
        zk() {
            if (this.dd == null) {
                return;
            }
            let a = this.dd.count;
            this.ys = new Array(a);
            this.yt = new Array(a);
            for (let b = 0; b < a; b++) {
                this.ys[b] = 0;
                this.yt[b] = 0;
            }
            this.zb = Number.POSITIVE_INFINITY;
            this.za = Number.NEGATIVE_INFINITY;
            let c = 0;
            for (let d of fromEnum(this.yw)) {
                if (d.itemsSource != null && d.visualSeriesLink == null) {
                    continue;
                }
                if (d.itemsSource != null) {
                    d.ak = d.visualSeriesLink.valueColumn;
                }
                if (d.itemsSource == null) {
                    this.dd.deregisterColumn(d.ak);
                    d.ak = this.da(d.ft);
                }
                if (d.visualSeriesLink != null && d.itemsSource == null) {
                    d.visualSeriesLink.y4 = true;
                    d.visualSeriesLink.valueColumn = d.ak;
                    d.visualSeriesLink.y4 = false;
                }
                d.az = true;
                if (d.ak != null) {
                    d.a7.clear();
                    d.a8.clear();
                    for (let e = 0; e < d.ak.count; e++) {
                        let f = d.ak.item(e);
                        if (f < c) {
                            d.a7.add(c);
                            d.a8.add(this.yt[e]);
                            this.yt[e] = this.yt[e] + f;
                            if (d.az) {
                                d.az = false;
                            }
                        }
                        else if (f >= c) {
                            d.a7.add(this.ys[e]);
                            d.a8.add(c);
                            this.ys[e] = this.ys[e] + f;
                        }
                        else if (isNaN_(f) || isInfinity(f)) {
                            d.a7.add(this.ys[e]);
                            d.a8.add(this.yt[e]);
                        }
                    }
                }
            }
            for (let g = 0; g < a; g++) {
                this.zb = Math.min(this.zb, this.yt[g]);
                this.za = Math.max(this.za, this.ys[g]);
            }
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case "SeriesViewer":
                    if (c != null && d == null) {
                        this.od(this.fetchXAxis());
                        this.od(this.fetchYAxis());
                    }
                    if (c == null && d != null) {
                        this.qc(this.fetchXAxis());
                        this.qc(this.fetchYAxis());
                    }
                    if (this.yw != null) {
                        for (let e of fromEnum(this.yw)) {
                            e.af = this.c1;
                        }
                        this.qm(false);
                    }
                    break;
                case "ItemsSource":
                    if (this.yw != null) {
                        for (let f of fromEnum(this.yw)) {
                            if (f.itemsSource == null) {
                                if (f.visualSeriesLink != null) {
                                    f.visualSeriesLink.itemsSource = d;
                                }
                            }
                        }
                    }
                    break;
                case "HighlightedItemsSource":
                    if (this.yw != null) {
                        for (let g of fromEnum(this.yw)) {
                            if (g.highlightedItemsSource == null) {
                                if (g.visualSeriesLink != null) {
                                    g.visualSeriesLink.highlightedItemsSource = d;
                                }
                            }
                        }
                    }
                    break;
                case "FastItemsSource":
                    if (this.y3) {
                        this.zj();
                    }
                    if (!this.xx()) {
                        this.y2.cu.g(this.hu);
                    }
                    this.qm(this.f0 && c != null);
                    break;
                case StackedSeriesBase.$$p[0]:
                    this.zj();
                    break;
                case StackedSeriesBase.$$p[1]:
                    if (this.c1 != null) {
                        this.c1.ox(this.y1.f);
                    }
                    break;
                case StackedSeriesBase.$$p[2]:
                    for (let h of fromEnum(this.yw)) {
                        h.hm();
                    }
                    break;
                case "Brush":
                    for (let i of fromEnum(this.yw)) {
                        i.f4();
                    }
                    break;
                case "DashArray":
                    for (let j of fromEnum(this.yw)) {
                        j.f5();
                    }
                    break;
                case "HighlightingFadeOpacity":
                    for (let k of fromEnum(this.yw)) {
                        k.gb();
                    }
                    break;
                case "HighlightedValuesDisplayMode":
                    for (let l of fromEnum(this.yw)) {
                        l.ga();
                    }
                    break;
                case "DashCap":
                    for (let m of fromEnum(this.yw)) {
                        m.f6();
                    }
                    break;
                case "IsDropShadowEnabled":
                    for (let n of fromEnum(this.yw)) {
                        n.gc();
                    }
                    break;
                case "ShadowBlur":
                    for (let o of fromEnum(this.yw)) {
                        o.g3();
                    }
                    break;
                case "ShadowColor":
                    for (let p of fromEnum(this.yw)) {
                        p.g4();
                    }
                    break;
                case "UseSingleShadow":
                    for (let q of fromEnum(this.yw)) {
                        q.hi();
                    }
                    break;
                case "ShadowOffsetX":
                    for (let r of fromEnum(this.yw)) {
                        r.g5();
                    }
                    break;
                case "ShadowOffsetY":
                    for (let s of fromEnum(this.yw)) {
                        s.g6();
                    }
                    break;
                case "IsHitTestVisible":
                    for (let t of fromEnum(this.yw)) {
                        t.gd();
                    }
                    break;
                case "LegendItemBadgeTemplate":
                    for (let u of fromEnum(this.yw)) {
                        u.gj();
                    }
                    break;
                case "LegendItemTemplate":
                    for (let v of fromEnum(this.yw)) {
                        v.gk();
                    }
                    break;
                case "LegendItemVisibility":
                    for (let w of fromEnum(this.yw)) {
                        w.gl();
                    }
                    break;
                case "LegendItemBadgeShape":
                    for (let x of fromEnum(this.yw)) {
                        x.gi();
                    }
                    break;
                case "LegendItemBadgeMode":
                    for (let y of fromEnum(this.yw)) {
                        y.gh();
                    }
                    break;
                case "MarkerTemplate":
                    for (let z of fromEnum(this.yw)) {
                        z.gu();
                    }
                    break;
                case "MarkerType":
                    for (let aa of fromEnum(this.yw)) {
                        aa.gw();
                    }
                    break;
                case "MarkerThickness":
                    for (let ab of fromEnum(this.yw)) {
                        ab.gv();
                    }
                    break;
                case "MarkerBrush":
                    for (let ac of fromEnum(this.yw)) {
                        ac.go();
                    }
                    break;
                case "MarkerOutline":
                    for (let ad of fromEnum(this.yw)) {
                        ad.gr();
                    }
                    break;
                case "MarkerOutlineMode":
                    for (let ae of fromEnum(this.yw)) {
                        ae.gs();
                    }
                    break;
                case "MarkerFillMode":
                    for (let af of fromEnum(this.yw)) {
                        af.gp();
                    }
                    break;
                case "MarkerStyle":
                    for (let ag of fromEnum(this.yw)) {
                        ag.gt();
                    }
                    break;
                case "Opacity":
                    for (let ah of fromEnum(this.yw)) {
                        ah.gx();
                    }
                    break;
                case "OpacityMask":
                    for (let ai of fromEnum(this.yw)) {
                        ai.gy();
                    }
                    break;
                case "AreaFillOpacity":
                    for (let aj of fromEnum(this.yw)) {
                        aj.f3();
                    }
                    break;
                case "Outline":
                    for (let ak of fromEnum(this.yw)) {
                        ak.gz();
                    }
                    break;
                case "LineCap":
                    for (let al of fromEnum(this.yw)) {
                        al.gm();
                    }
                    break;
                case "OutlineMode":
                    for (let am of fromEnum(this.yw)) {
                        am.g0();
                    }
                    break;
                case "MarkerFillOpacity":
                    for (let an of fromEnum(this.yw)) {
                        an.gq();
                    }
                    break;
                case "Thickness":
                    for (let ao of fromEnum(this.yw)) {
                        ao.g7();
                    }
                    break;
                case "LineJoin":
                    for (let ap of fromEnum(this.yw)) {
                        ap.gn();
                    }
                    break;
                case "ToolTip":
                    for (let aq of fromEnum(this.yw)) {
                        aq.g9();
                    }
                    break;
                case "TransitionEasingFunction":
                    for (let ar of fromEnum(this.yw)) {
                        ar.hb();
                    }
                    break;
                case "TransitionDuration":
                    for (let as of fromEnum(this.yw)) {
                        as.ha();
                    }
                    break;
                case "IsTransitionInEnabled":
                    for (let at of fromEnum(this.yw)) {
                        at.gf();
                    }
                    break;
                case "TransitionInMode":
                    for (let au of fromEnum(this.yw)) {
                        au.he();
                    }
                    break;
                case "TransitionInDuration":
                    for (let av of fromEnum(this.yw)) {
                        av.gf();
                    }
                    break;
                case "TransitionInSpeedType":
                    for (let aw of fromEnum(this.yw)) {
                        aw.gf();
                    }
                    break;
                case "TransitionInEasingFunction":
                    for (let ax of fromEnum(this.yw)) {
                        ax.hd();
                    }
                    break;
                case "UseLightweightMarkers":
                    for (let ay of fromEnum(this.yw)) {
                        ay.hh();
                    }
                    break;
                case "UseHighMarkerFidelity":
                    for (let az of fromEnum(this.yw)) {
                        az.hg();
                    }
                    break;
            }
        }
        get currentCategoryMode() {
            return this.preferredCategoryMode(typeCast(CategoryAxisBase.$, this.w1()));
        }
        get scaler() {
            return typeCast(ICategoryScaler_$type, this.w1());
        }
        get yScaler() {
            return typeCast(IScaler_$type, this.xh());
        }
        get bucketizer() {
            return this.xb.cu;
        }
        get currentMode2Index() {
            return this.x6();
        }
        provideCollisionDetector() {
            return new CollisionAvoider();
        }
        f7() {
            return false;
        }
        get_eq() {
            return false;
        }
        qo(a, b) {
            let c = this.gj;
            super.qo(a, b);
            if (!c) {
                this.cl.a4(b);
                return;
            }
            this.cl.a4(b);
            if (this.dt(this.ck)) {
                return;
            }
            for (let d of fromEnum(this.series)) {
                d.visualSeriesLink.qo(a, b);
            }
            this.gj = false;
        }
        ql(a, b, c, d, e) {
            super.ql(a, b, c, d, e);
            let f = this.a2.a$i.item(d);
            f.cu.g(this.hu);
            f.a3(c);
            if (this.dt(f)) {
                return;
            }
            if (this.yu == null) {
                this.yu = new CategoryFrame(3);
            }
            this.yu.v();
            this.zk();
            this.w8(f).d(this.yu, f);
            this.yl(this.yu, f);
            for (let g of fromEnum(this.series)) {
                g.visualSeriesLink.ql(a, b, c, d, e);
            }
        }
        j1() {
            let a = this.a4.exportStackedVisualData(this, this.u9);
            for (let b of fromEnum(this.series)) {
                let c = this.a4.createFragmentVisualData(this, this.u9, getInstanceType(b).typeName, b.e0);
                b.visualSeriesLink.cl.an(c);
                this.a4.addSubSeriesVisualData(a, c);
                for (let d of fromEnum(b.visualSeriesLink.actualLayers)) {
                    let e = this.a4.createFragmentVisualData(this, this.u9, getInstanceType(d.target).typeName, d.target.name);
                    d.target.cl.an(e);
                    this.a4.addSubSeriesLayerVisualData(c, e);
                }
            }
            this.ow(a);
            this.cl.an(a);
            return a;
        }
        get mayContainUnknowns() {
            return true;
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedSeriesBase.$t = /*@__PURE__*/ markType(StackedSeriesBase, 'StackedSeriesBase', CategorySeries.$, [IIsCategoryBased_$type]);
    StackedSeriesBase.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedSeriesBase, 'raisePropertyChanged', ['AutoGenerateSeries:y3:zp', [0, false], 'ReverseLegendOrder:y5:zq', [0, false], 'SeriesVisibility:zs:zr', [Visibility_$type, /*@__PURE__*/ enumGetBox(Visibility_$type, 0)]]);
    return StackedSeriesBase;
})();
/**
 * @hidden
 */
export let HorizontalStackedSeriesBase = /*@__PURE__*/ (() => {
    class HorizontalStackedSeriesBase extends StackedSeriesBase {
        get_d6() {
            return true;
        }
        get_fq() {
            return this.xh() != null && this.xh().ch;
        }
        ca() {
            return 1;
        }
        cb() {
            if (this.yAxis != null && this.yAxis.ch) {
                return 4;
            }
            return 3;
        }
        getOffsetValue() {
            return this.w7.r(this.xAxis, this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl));
        }
        getCategoryWidth() {
            return this.xAxis.getCategorySize(this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl));
        }
        fetchXAxis() {
            return this.xAxis;
        }
        fetchYAxis() {
            return this.yAxis;
        }
        ag() {
            return [this.fetchXAxis(), this.fetchYAxis()];
        }
        xx() {
            return this.yAxis != null && this.yAxis.c1();
        }
        q6() {
            let a = (typeCast(XamDataChart.$, this.c1));
            if (a != null) {
                this.hq = isNaN_(this.h0) ? a.wh.fp : this.h0;
                for (let b of fromEnum(this.yw)) {
                    b.f3();
                }
            }
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case "Resolution":
                    this.y1.j();
                    break;
                case HorizontalStackedSeriesBase.$$p[0]:
                    if (c != d) {
                        this.od(typeCast(Axis.$, c));
                        this.qc(typeCast(Axis.$, d));
                        this.xb.cu.g(this.hu);
                        this.qm(false);
                        this.ph();
                    }
                    break;
                case HorizontalStackedSeriesBase.$$p[1]:
                    if (c != d) {
                        this.od(typeCast(Axis.$, c));
                        this.qc(typeCast(Axis.$, d));
                        this.xb.cu.g(this.hu);
                        if (this.c1 != null) {
                            this.c1.nm();
                        }
                        this.xx();
                        this.qm(false);
                        this.ph();
                    }
                    break;
            }
        }
        zw(a) {
            if (typeCast(NumericYAxis.$, a) !== null) {
                return true;
            }
            return false;
        }
        zv(a) {
            if (typeCast(CategoryXAxis.$, a) !== null || a.ce) {
                return true;
            }
            return false;
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    HorizontalStackedSeriesBase.$t = /*@__PURE__*/ markType(HorizontalStackedSeriesBase, 'HorizontalStackedSeriesBase', StackedSeriesBase.$);
    HorizontalStackedSeriesBase.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, HorizontalStackedSeriesBase, 'raisePropertyChanged', ['XAxis::zz', [CategoryAxisBase.$, null], 'YAxis::z0', [NumericYAxis.$, null]]);
    return HorizontalStackedSeriesBase;
})();
/**
 * @hidden
 */
export let StackedAreaSeries = /*@__PURE__*/ (() => {
    class StackedAreaSeries extends HorizontalStackedSeriesBase {
        bb() {
            return new StackedAreaSeries();
        }
        get_ef() {
            return true;
        }
        constructor() {
            super();
            this.ab = StackedAreaSeries.$;
        }
        ac() {
            super.ac();
            this.qm(false);
        }
        ci() {
            return new StackedAreaSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.z1 = a;
        }
        aq(a) {
            if (this.itemsSource == null) {
                return null;
            }
            if (a == this.xAxis) {
                return new AxisRange(0, this.dd.count - 1);
            }
            if (a == this.yAxis) {
                this.zk();
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedAreaSeries.$t = /*@__PURE__*/ markType(StackedAreaSeries, 'StackedAreaSeries', HorizontalStackedSeriesBase.$);
    return StackedAreaSeries;
})();
/**
 * @hidden
 */
export let VerticalStackedSeriesBase = /*@__PURE__*/ (() => {
    class VerticalStackedSeriesBase extends StackedSeriesBase {
        w1() {
            return this.yAxis;
        }
        xh() {
            return this.xAxis;
        }
        ca() {
            if (this.xAxis != null && this.xAxis.ch) {
                return 4;
            }
            return 3;
        }
        cb() {
            return 1;
        }
        ar(a) {
            if (a.isEmpty && this.c1 != null) {
                a = this.c1.vh;
            }
            let b = this.w1();
            if (this.ys == null || this.yt == null) {
                return null;
            }
            let c = this.u1(this.cl);
            let d = new ScalerParams(0, a, this.c1.vw, b.ch, this.getEffectiveViewport());
            let e = (b.em(c.top, d));
            let f = (b.em(c.bottom, d));
            if (!b.ch) {
                let g = e;
                e = f;
                f = g;
            }
            let h = null;
            if (b.cn) {
                h = b;
                e = h.i$f(e);
                f = h.i$f(f);
            }
            else {
                e = Math.floor(e);
                f = Math.ceil(f);
            }
            e = Math.max(0, Math.min(this.yt.length - 1, e));
            f = Math.max(0, Math.min(this.yt.length - 1, f));
            let i = 1.7976931348623157E+308;
            let j = -1.7976931348623157E+308;
            for (let k = truncate(e); k <= truncate(f); k++) {
                let l = k;
                if (h != null) {
                    l = h.i$b._inner[k];
                }
                let m = this.yt[l];
                {
                    if (isInfinity(m) || isNaN_(m)) {
                        continue;
                    }
                }
                let n = this.ys[l];
                {
                    if (isInfinity(n) || isNaN_(n)) {
                        continue;
                    }
                }
                i = Math.min(i, m);
                j = Math.max(j, n);
            }
            let o = new AxisRange(i, j);
            let p = this.xh();
            o = this.ap(o, p, a);
            return o;
        }
        getOffsetValue() {
            return this.w7.r(this.yAxis, this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl));
        }
        getCategoryWidth() {
            return this.yAxis.getCategorySize(this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl));
        }
        get_isVertical() {
            return true;
        }
        fetchXAxis() {
            return this.xAxis;
        }
        fetchYAxis() {
            return this.yAxis;
        }
        xx() {
            return this.xAxis != null && this.xAxis.c1();
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case VerticalStackedSeriesBase.$$p[0]:
                    if (c != d) {
                        this.od(typeCast(Axis.$, c));
                        this.qc(typeCast(Axis.$, d));
                        this.xb.cu.g(this.hu);
                        if (this.c1 != null) {
                            this.c1.nm();
                        }
                        this.qm(false);
                        this.ph();
                    }
                    break;
                case VerticalStackedSeriesBase.$$p[1]:
                    if (c != d) {
                        this.od(typeCast(Axis.$, c));
                        this.qc(typeCast(Axis.$, d));
                        this.xb.cu.g(this.hu);
                        this.xx();
                        this.qm(false);
                        this.ph();
                    }
                    break;
            }
        }
        zw(a) {
            if (typeCast(CategoryYAxis.$, a) !== null) {
                return true;
            }
            return false;
        }
        zv(a) {
            if (typeCast(NumericXAxis.$, a) !== null) {
                return true;
            }
            return false;
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    VerticalStackedSeriesBase.$t = /*@__PURE__*/ markType(VerticalStackedSeriesBase, 'VerticalStackedSeriesBase', StackedSeriesBase.$);
    VerticalStackedSeriesBase.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, VerticalStackedSeriesBase, 'raisePropertyChanged', ['XAxis::zz', [NumericXAxis.$, null], 'YAxis::z0', [CategoryYAxis.$, null]]);
    return VerticalStackedSeriesBase;
})();
/**
 * @hidden
 */
export let StackedBarSeries = /*@__PURE__*/ (() => {
    class StackedBarSeries extends VerticalStackedSeriesBase {
        bb() {
            return new StackedBarSeries();
        }
        get_ei() {
            return true;
        }
        get_e6() {
            return true;
        }
        i0() {
            if (!isNaN_(this.iz)) {
                return super.i0();
            }
            return Defaults.h;
        }
        constructor() {
            super();
            this.ab = StackedBarSeries.$;
        }
        ac() {
            super.ac();
            this.qm(false);
        }
        ci() {
            return new StackedBarSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.z1 = a;
        }
        yv() {
            return this.z1;
        }
        preferredCategoryMode(a) {
            return 2;
        }
        x6() {
            let a = 0;
            for (let b of fromEnum(this.c1.series)) {
                if (b == this) {
                    return a;
                }
                let c = typeCast(IBarSeries_$type, b);
                if (c != null && c.yAxis == this.yAxis && c.getPreferredCategoryMode() == 2) {
                    a++;
                }
            }
            return -1;
        }
        y8() {
            let a = 0;
            let b = this.c1 != null ? this.c1.vh : Rect.empty;
            let c = this.cl.bx;
            if (!b.isEmpty && !c.isEmpty && this.xAxis != null) {
                let d = this.getEffectiveViewport1(this.cl);
                let e = new ScalerParams(0, b, c, this.xAxis.ch, d);
                a = this.xAxis.ej(this.xAxis.l7, e);
            }
            return a;
        }
        y9() {
            if (this.xAxis != null) {
                return this.xAxis.l7;
            }
            return 0;
        }
        aq(a) {
            if (this.itemsSource == null) {
                return null;
            }
            if (a == this.yAxis) {
                return new AxisRange(0, this.dd.count - 1);
            }
            if (a == this.xAxis) {
                this.zk();
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        fx(a) {
            let b = this.dd != null ? this.dd.indexOf(a) : -1;
            let c = this.c1 != null ? this.c1.vh : Rect.empty;
            c = c.copy();
            let d = this.cl.bx;
            let e = new Rect(0, 0, 0, 1, 1);
            let f = this.u3(this.cl);
            let g = new ScalerParams(0, e, e, this.xAxis.ch, f);
            let h = new ScalerParams(0, e, e, this.yAxis.ch, f);
            if (b >= 0 && Rect.l_op_Inequality(c, null) && Rect.l_op_Inequality(d, null)) {
                if (this.yAxis != null) {
                    let i = this.yAxis.ej(b, h);
                    if (i < c.top + 0.1 * c.height) {
                        i = i + 0.4 * c.height;
                    }
                    if (i > c.bottom - 0.1 * c.height) {
                        i = i - 0.4 * c.height;
                    }
                    c.y = i - 0.5 * c.height;
                }
                if (this.xAxis != null && this.ys != null && b < this.ys.length) {
                    let j = this.xAxis.ej(this.ys[b], g);
                    let k = this.xAxis.ej(this.yt[b], g);
                    if (!isNaN_(j) && !isNaN_(k)) {
                        let l = Math.abs(k - j);
                        if (c.width < l) {
                            c.width = l;
                            c.x = Math.min(k, j);
                        }
                        else {
                            if (k < c.left + 0.1 * c.width) {
                                k = k + 0.4 * c.width;
                            }
                            if (k > c.right - 0.1 * c.width) {
                                k = k - 0.4 * c.width;
                            }
                            c.x = k - 0.5 * c.width;
                        }
                    }
                }
                this.ct.au(this.c1, c, true);
            }
            return b >= 0;
        }
        gw(a, b, c) {
            let d = true;
            let e = c;
            if (!c.o() || b.isEmpty || a.isEmpty || this.yAxis == null || this.yAxis.itemsSource == null || this.xAxis == null || this.dd == null || this.xAxis.bi == null || this.yAxis.bi == null || this.xAxis.lx == this.xAxis.lw) {
                e.cu.d = 0;
                d = false;
            }
            return d;
        }
        oc(a, b, c, d) {
            switch (a) {
                case 4:
                case 1:
                case 0:
                    this.xb.cu.g(this.hu);
                    break;
            }
            switch (a) {
                case 4:
                    if (this.xAxis != null && !this.xAxis.c1()) {
                        this.qm(true);
                    }
                    break;
                case 1:
                    if (this.xAxis != null && !this.xAxis.c1()) {
                        this.qm(true);
                    }
                    break;
                case 0:
                    if (this.xAxis != null && !this.xAxis.c1()) {
                        this.qm(true);
                    }
                    break;
                case 2:
                    if (this.xb.cu.d > 0) {
                        this.qm(true);
                    }
                    break;
                case 3:
                    if (this.xAxis != null && !this.xAxis.c1()) {
                        this.qm(true);
                    }
                    break;
            }
        }
        jj(a) {
            let b = this.c1 != null ? this.c1.vh : Rect.empty;
            let c = this.cl.bx;
            let d = this.getEffectiveViewport1(this.cl);
            let e = -1;
            if (this.yAxis != null && !b.isEmpty && !c.isEmpty) {
                let f = new ScalerParams(0, b, c, this.yAxis.ch, d);
                let g = this.u1(this.cl);
                let h = this.yAxis.em(g.top, f);
                let i = this.yAxis.em(g.bottom, f);
                let j = (a.y - b.top) / b.height;
                let k = h + (j * (i - h));
                if (this.yAxis.categoryMode != 0) {
                    k -= 0.5;
                }
                let l = truncate(Math.round(k));
                e = l;
            }
            return e;
        }
        j2(a) {
            let b = this.jj(a);
            return b >= 0 && this.dd != null && b < this.dd.count ? this.dd.item(b) : null;
        }
        zo() {
            if (this.xAxis != null) {
                this.xAxis.c2(true);
            }
            if (this.yAxis != null) {
                this.yAxis.c2(true);
            }
        }
        zc(a) {
            return this.jj(a);
        }
        y6(a, b, c, d) {
            let e = true;
            if (!d.o() || c.isEmpty || b.isEmpty || this.yAxis == null || this.yAxis.itemsSource == null || this.xAxis == null || this.dd == null || this.xAxis.bi == null || this.yAxis.bi == null) {
                e = false;
            }
            let f = d;
            if (a.valueColumn == null || a.valueColumn.count == 0 || f.cu.d < 1) {
                e = false;
            }
            return e;
        }
        ib() {
            return this.yAxis.k4(this.cl.by, this.cl.bx, this.getEffectiveViewport1(this.cl));
        }
        zl(a, b, c, d) {
            let e = typeCast(BarFragment.$, a);
            let f = typeCast(ColumnFragmentView.$, c);
            if (!this.gw(c.bx, c.by, c) || e == null || f == null) {
                return;
            }
            let g = this.yAxis.k4(c.by, c.bx, this.getEffectiveViewport1(c));
            if (isNaN_(g) || isInfinity(g)) {
                e.aa5.de.count = 0;
                return;
            }
            let h = 0;
            e.xa.a2(e, e.xu(), d, e.x3(c), e.x4(c));
            e.xa.r = e.aa8;
            e.xa.s = e.aa9;
            e.xa.k = e.aa8;
            e.xa.l = e.aa9;
            let i = e.valueColumn.count;
            let j = c.by;
            let k = c.bx;
            let l = this.getEffectiveViewport1(c);
            let m = false;
            let n = e.xa.b;
            if (n != null) {
                m = true;
            }
            let o = b.f;
            let p = e.w1();
            let q = new ScalerParams(0, j, k, p.ch, l);
            let r = 0;
            for (let s of fromEnum(b.f)) {
                if (isInfinity(s[0]) || isNaN_(s[0]) || isInfinity(s[1]) || isInfinity(s[2]) || isNaN_(s[1]) || isNaN_(s[2])) {
                    r++;
                    continue;
                }
                let t = s[0] - 0.5 * g;
                let u = s[1];
                let v = s[2];
                v = Math.max(v, -100);
                u = Math.min(u, c.bx.right + 100);
                let w = f.de.item(h);
                w.height = g;
                w.width = Math.abs(u - v);
                let x = this.xa.aw(i, r)[0];
                if (m) {
                    e.yh(o, r, i, p, q, c.q, x);
                }
                e.xa.ad(w, false, false, false, false);
                w.ap = e.xa.k;
                w.aq = e.xa.l;
                f.dl(w, Math.min(u, v), t);
                h++;
                r++;
            }
            f.de.count = h;
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case StackedBarSeries.$$p[0]:
                case StackedBarSeries.$$p[1]:
                    for (let e of fromEnum(this.yw)) {
                        e.g1();
                        e.g2();
                    }
                    this.qm(false);
                    break;
                case "SyncLink":
                    if (this.xAxis != null) {
                        this.xAxis.c1();
                    }
                    break;
                case "FastItemsSource":
                    if (this.xAxis != null && !this.xAxis.c1()) {
                        this.z1.cu.g(this.hu);
                    }
                    this.qm(this.f0 && c != null);
                    break;
                case "SeriesViewer":
                    if (c != null && d == null) {
                        this.od(this.xAxis);
                        this.od(this.yAxis);
                    }
                    if (c == null && d != null) {
                        this.qc(this.xAxis);
                        this.qc(this.yAxis);
                    }
                    this.z1.cu.g(this.hu);
                    this.qm(false);
                    if (this.xAxis != null) {
                        this.xAxis.c1();
                    }
                    break;
            }
        }
        getPreferredCategoryMode() {
            return this.preferredCategoryMode(this.yAxis);
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedBarSeries.$t = /*@__PURE__*/ markType(StackedBarSeries, 'StackedBarSeries', VerticalStackedSeriesBase.$, [IBarSeries_$type]);
    StackedBarSeries.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedBarSeries, 'raisePropertyChanged', ['RadiusX:z2:z6', [1, 0], 'RadiusY:z3:z7', [1, 0]]);
    return StackedBarSeries;
})();
/**
 * @hidden
 */
export let StackedColumnSeries = /*@__PURE__*/ (() => {
    class StackedColumnSeries extends HorizontalStackedSeriesBase {
        bb() {
            return new StackedColumnSeries();
        }
        get_ek() {
            return true;
        }
        get_e6() {
            return true;
        }
        i0() {
            if (!isNaN_(this.iz)) {
                return super.i0();
            }
            return Defaults.h;
        }
        constructor() {
            super();
            this.ab = StackedColumnSeries.$;
        }
        ci() {
            return new StackedColumnSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.z1 = a;
        }
        yv() {
            return this.z1;
        }
        preferredCategoryMode(a) {
            return 2;
        }
        aq(a) {
            if (this.itemsSource == null) {
                return null;
            }
            if (a == this.xAxis) {
                return new AxisRange(0, this.dd.count - 1);
            }
            if (a == this.yAxis) {
                this.zk();
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        ib() {
            let a = this.getEffectiveViewport1(this.cl);
            return this.xAxis.k4(this.cl.by, this.cl.bx, a);
        }
        zl(a, b, c, d) {
            let e = typeCast(ColumnFragment.$, a);
            let f = typeCast(ColumnFragmentView.$, c);
            if (!this.gw(c.bx, c.by, c) || e == null || f == null) {
                return;
            }
            if (e == null) {
                return;
            }
            let g = this.getEffectiveViewport1(c);
            let h = this.xAxis.k4(c.by, c.bx, g);
            if (isNaN_(h) || isInfinity(h)) {
                e.aa5.de.count = 0;
                return;
            }
            let i = 0;
            e.xa.a2(e, e.xu(), d, e.x3(c), e.x4(c));
            e.xa.r = e.aa8;
            e.xa.s = e.aa9;
            e.xa.k = e.aa8;
            e.xa.l = e.aa9;
            let j = c.by;
            let k = c.bx;
            let l = this.getEffectiveViewport1(c);
            let m = false;
            let n = e.xa.b;
            if (n != null) {
                m = true;
            }
            let o = b.f;
            let p = e.w1();
            let q = new ScalerParams(0, j, k, p.ch, l);
            let r = e.valueColumn.count;
            let s = typeCast(ISortingAxis_$type, this.xAxis) !== null;
            let t = 0;
            for (let u of fromEnum(b.f)) {
                if (isInfinity(u[0]) || isNaN_(u[0]) || isInfinity(u[1]) || isInfinity(u[2]) || isNaN_(u[1]) || isNaN_(u[2])) {
                    t++;
                    continue;
                }
                let v = u[0] - 0.5 * h;
                let w = u[1];
                let x = u[2];
                w = Math.max(w, -100);
                x = Math.min(x, c.bx.bottom + 100);
                let y = f.de.item(t);
                y.width = h;
                y.height = Math.abs(x - w);
                let z = this.xa.aw(r, t)[0];
                if (s && b.m != null && i >= 0 && i < b.m.count) {
                    z = truncate(Math.round(b.m._inner[i]));
                }
                if (m) {
                    e.yh(o, t, r, p, q, c.q, z);
                }
                e.xa.ad(y, false, false, false, false);
                y.ap = e.xa.k;
                y.aq = e.xa.l;
                f.dl(y, v, Math.min(x, w));
                i++;
                t++;
            }
            f.de.count = i;
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case StackedColumnSeries.$$p[0]:
                case StackedColumnSeries.$$p[1]:
                    for (let e of fromEnum(this.yw)) {
                        e.g1();
                        e.g2();
                    }
                    this.qm(false);
                    break;
                case "SyncLink":
                    if (this.yAxis != null) {
                        this.yAxis.c1();
                    }
                    break;
                case "SeriesViewer":
                    if (this.yAxis != null) {
                        this.yAxis.c1();
                    }
                    break;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedColumnSeries.$t = /*@__PURE__*/ markType(StackedColumnSeries, 'StackedColumnSeries', HorizontalStackedSeriesBase.$);
    StackedColumnSeries.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedColumnSeries, 'raisePropertyChanged', ['RadiusX:z2:z6', [1, 0], 'RadiusY:z3:z7', [1, 0]]);
    return StackedColumnSeries;
})();
/**
 * @hidden
 */
export let StackedSplineAreaSeries = /*@__PURE__*/ (() => {
    class StackedSplineAreaSeries extends HorizontalStackedSeriesBase {
        bb() {
            return new StackedSplineAreaSeries();
        }
        i0() {
            if (!isNaN_(this.iz)) {
                return super.i0();
            }
            return this.z1.c8();
        }
        get_ef() {
            return true;
        }
        get_fl() {
            return true;
        }
        constructor() {
            super();
            this.ab = StackedSplineAreaSeries.$;
        }
        ac() {
            super.ac();
            this.qm(false);
        }
        ci() {
            return new StackedSplineAreaSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.z1 = a;
        }
        aq(a) {
            if (this.itemsSource == null) {
                return null;
            }
            if (a == this.xAxis) {
                return new AxisRange(0, this.dd.count - 1);
            }
            if (a == this.yAxis) {
                this.zk();
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        p5(a, b, c, d) {
            super.p5(a, b, c, d);
            switch (b) {
                case StackedSplineAreaSeries.$$p[0]:
                    for (let e of fromEnum(this.yw)) {
                        e.ge();
                    }
                    break;
            }
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedSplineAreaSeries.$t = /*@__PURE__*/ markType(StackedSplineAreaSeries, 'StackedSplineAreaSeries', HorizontalStackedSeriesBase.$);
    StackedSplineAreaSeries.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedSplineAreaSeries, 'raisePropertyChanged', ['IsSplineShapePartOfRange:z2:z4', [0, false]]);
    return StackedSplineAreaSeries;
})();
/**
 * @hidden
 */
export let StackedSplineSeries = /*@__PURE__*/ (() => {
    class StackedSplineSeries extends HorizontalStackedSeriesBase {
        bb() {
            return new StackedSplineSeries();
        }
        get_fl() {
            return true;
        }
        i0() {
            if (!isNaN_(this.iz)) {
                return super.i0();
            }
            return this.z1.c8();
        }
        constructor() {
            super();
            this.ab = StackedSplineSeries.$;
        }
        ac() {
            super.ac();
            this.qm(false);
        }
        ci() {
            return new StackedSplineSeriesView(this);
        }
        px(a) {
            super.px(a);
            this.z1 = a;
        }
        aq(a) {
            if (this.itemsSource == null) {
                return null;
            }
            if (a == this.xAxis) {
                return new AxisRange(0, this.dd.count - 1);
            }
            if (a == this.yAxis) {
                this.zk();
                return new AxisRange(this.zb, this.za);
            }
            return null;
        }
        preferredCategoryMode(a) {
            return 0;
        }
        get useHighMarkerFidelity() {
            return this.xy;
        }
    }
    StackedSplineSeries.$t = /*@__PURE__*/ markType(StackedSplineSeries, 'StackedSplineSeries', HorizontalStackedSeriesBase.$);
    StackedSplineSeries.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedSplineSeries, 'raisePropertyChanged', ['IsSplineShapePartOfRange:z2:z4', [0, false]]);
    return StackedSplineSeries;
})();
/**
 * @hidden
 */
export let StackedFragmentSeries = /*@__PURE__*/ (() => {
    class StackedFragmentSeries extends DependencyObject {
        constructor() {
            super();
            this._parentSeries = null;
            this.cc = 0;
            this.af = null;
            this.ak = null;
            this._visualSeriesLink = null;
            this.a7 = null;
            this.a8 = null;
            this.a6 = null;
            this.az = false;
            this.b5 = null;
            this.propertyChanged = null;
            this.propertyUpdated = null;
            this.a5 = new List$1(String_$type, 0);
            this.a7 = new List$1(Number_$type, 0);
            this.a8 = new List$1(Number_$type, 0);
            this.a6 = new List$1(Array_$type, 0);
            this.propertyUpdated = delegateCombine(this.propertyUpdated, (a, b) => this.fy(a, b.propertyName, b.oldValue, b.newValue));
        }
        cg(a, b) {
            let c = new DataLegendSeriesValueInfo();
            c.l = this.bt({ $type: Point_$type, x: a, y: b }, false, false);
            c.q = "Value";
            c.r = this.ft != null ? this.ft : "Value";
            c.s = this.fp != null ? this.fp : "";
            c.t = this.fr != null ? this.fr : "";
            let d = new DataLegendSeriesContext();
            d.e = ((() => {
                let $ret = new List$1(DataLegendSeriesValueInfo.$, 0);
                $ret.add(c);
                return $ret;
            })());
            d.h = this.eb();
            return d;
        }
        eb() {
            return "Stacked";
        }
        get parentSeries() {
            return this._parentSeries;
        }
        set parentSeries(a) {
            this._parentSeries = a;
        }
        get visualSeriesLink() {
            return this._visualSeriesLink;
        }
        set visualSeriesLink(a) {
            this._visualSeriesLink = a;
        }
        b8(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.jj(a);
            }
            return -1;
        }
        ch(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.j2(a);
            }
            return null;
        }
        cb(a, b) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.jq(a, b);
            }
            return -1;
        }
        ca(a, b) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.jo(a, b);
            }
            return -1;
        }
        bt(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.il(a, b, c);
            }
            return NaN;
        }
        li(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.uu(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        lm(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.u5(a);
            }
            return Rect.empty;
        }
        j(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ak(a);
            }
            return null;
        }
        ln(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.u6(a);
            }
            return Rect.empty;
        }
        k(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.al(a);
            }
            return null;
        }
        lo(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.u7(a);
            }
            return Rect.empty;
        }
        lp(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.u8(a);
            }
            return Rect.empty;
        }
        bp(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ih(a, b, c);
            }
            return NaN;
        }
        le(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.uq(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        br(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ij(a, b, c);
            }
            return NaN;
        }
        lg(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.us(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        lj(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.uv(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        bu(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.im(a, b, c);
            }
            return NaN;
        }
        lf(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ur(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        bq(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ii(a, b, c);
            }
            return NaN;
        }
        lh(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ut(a, b, c);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        bs(a, b, c) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ik(a, b, c);
            }
            return NaN;
        }
        b9(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.jk(a);
            }
            return -1;
        }
        bo() {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.ib();
            }
            return 0;
        }
        bn(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.h7(a);
            }
            return NaN;
        }
        ci(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.j3(a);
            }
            return null;
        }
        as(a, b, c, d) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.dz(a, b, c, d);
            }
            return false;
        }
        lk(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.uz(a);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        ld(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.up(a);
            }
            return { $type: Point_$type, x: NaN, y: NaN };
        }
        a0(a) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.fx(a);
            }
            return false;
        }
        ll() {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.getEffectiveViewport();
            }
            return Rect.empty;
        }
        fx() {
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.pj();
            }
        }
        f2(a) {
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.qz(a);
            }
        }
        a1(a, b) {
            if (this.visualSeriesLink != null) {
                return this.visualSeriesLink.gf(a, b);
            }
            return false;
        }
        fw(a) {
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.o8(a);
            }
        }
        provideRenderer(a) {
            this.b5 = a;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.provideRenderer(a);
            }
        }
        hm() {
            if (this.parentSeries == null) {
                return;
            }
            this.lt = this.parentSeries._visibility != 0 ? 1 : this.lv;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink._visibility = this.lt;
            }
        }
        gu() {
            if (this.parentSeries == null) {
                return;
            }
            this.hp = this.hs != null ? this.hs : this.parentSeries.wc;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.wc = this.hp;
            }
        }
        gw() {
            if (this.parentSeries == null) {
                return;
            }
            let a = this.x == 0 || this.x == 2;
            let b = a ? this.parentSeries.vn : this.x;
            if (b == 2 || b == 0) {
                b = 1;
            }
            this.w = b;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.vp = this.w;
            }
        }
        f4() {
            if (this.parentSeries == null) {
                return;
            }
            this.k4 = this.kz != null ? this.kz : this.parentSeries.t2;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.t2 = this.k4;
            }
        }
        f5() {
            if (this.parentSeries == null) {
                return;
            }
            this.k7 = this.k8 != null ? this.k8 : this.parentSeries.uk;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.uk = this.k7;
            }
        }
        gb() {
            if (this.parentSeries == null) {
                return;
            }
            this.bc = !isNaN_(this.bv) ? this.bv : this.parentSeries.iv;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.iv = this.bc;
            }
        }
        ga() {
            if (this.parentSeries == null) {
                return;
            }
            this.z = this.parentSeries.bm;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.bm = this.z;
            }
        }
        g0() {
            if (this.parentSeries == null) {
                return;
            }
            this.aa = this.ab != 0 ? this.ab : this.parentSeries.b8;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.b8 = this.aa;
            }
        }
        gq() {
            if (this.parentSeries == null) {
                return;
            }
            this.bd = !isNaN_(this.bw) || this.ay("MarkerFillOpacity") ? this.bw : this.parentSeries.iw;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.iw = this.bd;
            }
        }
        f6() {
            if (this.parentSeries == null) {
                return;
            }
            this.k9 = this.at("DashCap") ? this.parentSeries.ul : this.lb;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.ul = this.k9;
            }
        }
        gc() {
            if (this.parentSeries == null) {
                return;
            }
            this.al = this.at("IsDropShadowEnabled") ? this.parentSeries.ep : this.au;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.ep = this.al;
            }
        }
        g3() {
            if (this.parentSeries == null) {
                return;
            }
            this.bi = !isNaN_(this.b1) || this.ay("ShadowBlur") ? this.b1 : this.parentSeries.i2;
            if (this.visualSeriesLink != null && !isNaN_(this.bi)) {
                this.visualSeriesLink.i2 = this.bi;
            }
        }
        g4() {
            if (this.parentSeries == null) {
                return;
            }
            this.k5 = Color.e(toNullable(Color.$, this.k6), toNullable(Color.$, null)) ? this.k6 : this.parentSeries.uj;
            if (this.visualSeriesLink != null && Color.e(toNullable(Color.$, this.k5), toNullable(Color.$, null))) {
                this.visualSeriesLink.uj = this.k5;
            }
        }
        hi() {
            if (this.parentSeries == null) {
                return;
            }
            this.ar = this.at("UseSingleShadow") ? this.parentSeries.gu : this.a4;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.gu = this.ar;
            }
        }
        g5() {
            if (this.parentSeries == null) {
                return;
            }
            this.bj = !isNaN_(this.b2) || this.ay("ShadowOffsetX") ? this.b2 : this.parentSeries.i3;
            if (this.visualSeriesLink != null && !isNaN_(this.bj)) {
                this.visualSeriesLink.i3 = this.bj;
            }
        }
        g6() {
            if (this.parentSeries == null) {
                return;
            }
            this.bk = !isNaN_(this.b3) || this.ay("ShadowOffsetY") ? this.b3 : this.parentSeries.i4;
            if (this.visualSeriesLink != null && !isNaN_(this.bk)) {
                this.visualSeriesLink.i4 = this.bk;
            }
        }
        gd() {
            if (this.parentSeries == null) {
                return;
            }
            this.am = this.av;
        }
        gj() {
            if (this.parentSeries == null) {
                return;
            }
            this.hn = this.hq != null ? this.hq : this.parentSeries.legendItemBadgeTemplate;
            if (this.visualSeriesLink != null) {
                if (this.hn != null) {
                    this.visualSeriesLink.legendItemBadgeTemplate = this.hn;
                }
                else {
                    this.visualSeriesLink.legendItemBadgeTemplate = null;
                }
            }
        }
        gk() {
            if (this.parentSeries == null) {
                return;
            }
            this.ho = this.hr != null ? this.hr : this.parentSeries.legendItemTemplate;
            if (this.visualSeriesLink != null) {
                if (this.ho != null) {
                    this.visualSeriesLink.legendItemTemplate = this.ho;
                }
                else {
                    this.visualSeriesLink.legendItemTemplate = null;
                }
            }
        }
        gl() {
            if (this.parentSeries == null) {
                return;
            }
            this.ls = this.parentSeries.legendItemVisibility != 0 ? 1 : this.lu;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.legendItemVisibility = this.ls;
            }
        }
        gi() {
            if (this.parentSeries == null) {
                return;
            }
            this.q = this.r != 0 ? this.r : this.parentSeries.legendItemBadgeShape;
            if (this.visualSeriesLink != null) {
                if (this.q != 0) {
                    this.visualSeriesLink.legendItemBadgeShape = this.q;
                }
                else {
                    this.visualSeriesLink.legendItemBadgeShape = 0;
                }
            }
        }
        gh() {
            if (this.parentSeries == null) {
                return;
            }
            this.o = this.p != 0 ? this.p : this.parentSeries.a5;
            if (this.visualSeriesLink != null) {
                if (this.o != 0) {
                    this.visualSeriesLink.a5 = this.o;
                }
                else {
                    this.visualSeriesLink.a5 = 0;
                }
            }
        }
        go() {
            if (this.parentSeries == null) {
                return;
            }
            this.kv = this.k0 != null ? this.k0 : this.parentSeries.ws;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.ws = this.kv;
            }
        }
        gr() {
            if (this.parentSeries == null) {
                return;
            }
            this.kw = this.k1 != null ? this.k1 : this.parentSeries.wt;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.wt = this.kw;
            }
        }
        gt() {
            if (this.parentSeries == null) {
                return;
            }
            this.lq = this.lr != null ? this.lr : this.parentSeries.wu;
            if (this.visualSeriesLink != null) {
                if (this.lq != null) {
                    this.visualSeriesLink.wu = this.lq;
                }
                else {
                    this.visualSeriesLink.wu = null;
                }
            }
        }
        gx() {
            if (this.parentSeries == null) {
                return;
            }
            this.bf = !isNaN_(this.by) || this.ay("Opacity") ? this.by : this.parentSeries._opacity;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink._opacity = this.bf;
            }
        }
        gy() {
        }
        gz() {
            if (this.parentSeries == null) {
                return;
            }
            this.ky = this.k3 != null ? this.k3 : this.parentSeries.ud;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.ud = this.ky;
            }
        }
        gg() {
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.itemsSource = this.itemsSource;
            }
        }
        f9() {
            let a = this.highlightedItemsSource;
            if (a == null && this.parentSeries != null) {
                a = this.parentSeries.highlightedItemsSource;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.highlightedItemsSource = a;
            }
        }
        f3() {
            if (this.parentSeries == null) {
                return;
            }
            let a = NaN;
            if (this.parentSeries.isStacked && this.parentSeries.ef && !this.parentSeries.fl) {
                a = this.parentSeries.hq;
            }
            if (this.parentSeries.isStacked && this.parentSeries.ef && this.parentSeries.fl) {
                a = this.parentSeries.hq;
            }
            this.bb = !isNaN_(this.bm) || this.ay("AreaFillOpacity") ? this.bm : a;
            if (this.visualSeriesLink != null) {
                if (typeCast(AreaFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.h0 = this.bb;
                }
                if (typeCast(SplineAreaFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.h0 = this.bb;
                }
            }
        }
        ge() {
            if (this.parentSeries == null) {
                return;
            }
            let a = false;
            if (this.parentSeries.isStacked && this.parentSeries.fl && this.parentSeries.ef) {
                a = this.parentSeries.z2;
            }
            if (this.parentSeries.isStacked && this.parentSeries.ei) {
                a = this.parentSeries.z2;
            }
            this.an = a;
            if (this.visualSeriesLink != null) {
                if (typeCast(SplineFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aaz = this.an;
                }
                if (typeCast(SplineAreaFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aaz = this.an;
                }
            }
        }
        g1() {
            if (this.parentSeries == null) {
                return;
            }
            let a = NaN;
            if (this.parentSeries.isStacked && this.parentSeries.ek) {
                a = this.parentSeries.z2;
            }
            if (this.parentSeries.isStacked && this.parentSeries.ei) {
                a = this.parentSeries.z2;
            }
            this.bg = !isNaN_(this.bz) && this.bz != a ? this.bz : a;
            if (this.visualSeriesLink != null) {
                if (typeCast(ColumnFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aa8 = this.bg;
                }
                if (typeCast(BarFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aa8 = this.bg;
                }
            }
        }
        g2() {
            if (this.parentSeries == null) {
                return;
            }
            let a = NaN;
            if (this.parentSeries.isStacked && this.parentSeries.ek) {
                a = this.parentSeries.z3;
            }
            if (this.parentSeries.isStacked && this.parentSeries.ei) {
                a = this.parentSeries.z3;
            }
            this.bh = !isNaN_(this.b0) && this.b0 != a ? this.b0 : a;
            if (this.visualSeriesLink != null) {
                if (typeCast(ColumnFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aa9 = this.bh;
                }
                if (typeCast(BarFragment.$, this.visualSeriesLink) !== null) {
                    this.visualSeriesLink.aa9 = this.bh;
                }
            }
        }
        gm() {
            if (this.parentSeries == null) {
                return;
            }
            this.la = this.at("StartCap") ? this.parentSeries.um : this.lc;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.um = this.la;
            }
        }
        g7() {
            if (this.parentSeries == null) {
                return;
            }
            this.bl = !isNaN_(this.b4) && this.b4 != this.parentSeries.i5 ? this.b4 : this.parentSeries.i5;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.i5 = this.bl;
            }
        }
        gn() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.un = this.parentSeries.un;
            }
        }
        gv() {
            if (this.parentSeries == null) {
                return;
            }
            this.be = !isNaN_(this.bx) || this.ay("MarkerThickness") ? this.bx : this.parentSeries.vu;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.vu = this.be;
            }
        }
        g9() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.toolTip = this.ck;
            }
        }
        hb() {
            if (this.parentSeries == null) {
                return;
            }
            this.ag = this.ai || this.parentSeries.c3;
        }
        ha() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.parentSeries.jt != 0) {
                this.b6 = this.parentSeries.jt;
                return;
            }
            this.b6 = this.at("IsDropShadowEnabled") ? this.parentSeries.jt : this.cd;
        }
        hd() {
            if (this.parentSeries == null) {
                return;
            }
            this.ah = this.at("IsDropShadowEnabled") ? this.parentSeries.c4 : this.aj;
        }
        he() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.parentSeries.xd != 0) {
                this.m = this.parentSeries.xd;
                return;
            }
            this.m = this.n;
        }
        hf() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.parentSeries.cv != 0) {
                this.ad = this.parentSeries.cv;
                return;
            }
            this.ad = this.ae;
        }
        gf() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.parentSeries.xt != false) {
                this.ao = this.parentSeries.xt;
                return;
            }
            this.ao = this.ax;
        }
        hc() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.parentSeries.ju != 1000) {
                this.b7 = this.parentSeries.ju;
                return;
            }
            this.b7 = this.ce;
        }
        hh() {
            if (this.parentSeries == null) {
                return;
            }
            this.aq = this.at("UseLightweightMarkers") ? this.parentSeries.vt : this.a3;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.vt = this.aq;
            }
        }
        g8() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.title = this.cj;
            }
        }
        gp() {
            if (this.parentSeries == null) {
                return;
            }
            this.s = this.t != 0 ? this.t : this.parentSeries.vf;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.vf = this.s;
            }
        }
        gs() {
            if (this.parentSeries == null) {
                return;
            }
            this.u = this.v != 0 ? this.v : this.parentSeries.vj;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.vj = this.u;
            }
        }
        hg() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.xy = this.ay("UseHighMarkerFidelity") ? this.a2 : this.parentSeries.xy;
            }
        }
        hk() {
            if (this.parentSeries == null) {
                return;
            }
            this.d2 = this.ay("ValueMemberAsLegendUnit") ? this.fr : null;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.zj = this.fr;
            }
        }
        hj() {
            if (this.parentSeries == null) {
                return;
            }
            this.d0 = this.ay("ValueMemberAsLegendLabel") ? this.fp : this.cj != null ? this.cj.toString() : null;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.zh = this.d0;
            }
        }
        f7() {
            if (this.parentSeries == null) {
                return;
            }
            this.cp = this.ay("DataLegendGroup") ? this.d9 : this.eb();
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.k8 = this.cp;
            }
        }
        f8() {
            if (this.parentSeries == null) {
                return;
            }
            this.cr = this.ay("HighlightedDataLegendGroup") ? this.ed : this.d9;
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.ln = this.cr;
            }
        }
        hl() {
            if (this.parentSeries == null) {
                return;
            }
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.zl = this.ft;
            }
        }
        f0(a, b, c) {
            if (this.propertyChanged != null) {
                this.propertyChanged(this, new PropertyChangedEventArgs(a));
            }
            if (this.propertyUpdated != null) {
                this.propertyUpdated(this, new PropertyUpdatedEventArgs(a, b, c));
            }
        }
        at(a) {
            return !this.a5.contains(a);
        }
        ay(a) {
            return this.a5.contains(a);
        }
        fy(a, b, c, d) {
            if (this.parentSeries == null) {
                return;
            }
            if (!this.a5.contains(b)) {
                this.a5.add(b);
            }
            switch (b) {
                case StackedFragmentSeries.$$p[92]:
                    this.g8();
                    break;
                case StackedFragmentSeries.$$p[105]:
                    this.hl();
                    break;
                case StackedFragmentSeries.$$p[104]:
                    this.hk();
                    break;
                case StackedFragmentSeries.$$p[103]:
                    this.hj();
                    break;
                case StackedFragmentSeries.$$p[106]:
                    this.hm();
                    break;
                case StackedFragmentSeries.$$p[52]:
                    this.f4();
                    break;
                case StackedFragmentSeries.$$p[53]:
                    this.f5();
                    break;
                case StackedFragmentSeries.$$p[54]:
                    this.f6();
                    break;
                case StackedFragmentSeries.$$p[59]:
                    this.gc();
                    break;
                case StackedFragmentSeries.$$p[87]:
                    this.g3();
                    break;
                case StackedFragmentSeries.$$p[88]:
                    this.g4();
                    break;
                case StackedFragmentSeries.$$p[102]:
                    this.hi();
                    break;
                case StackedFragmentSeries.$$p[89]:
                    this.g5();
                    break;
                case StackedFragmentSeries.$$p[90]:
                    this.g6();
                    break;
                case StackedFragmentSeries.$$p[69]:
                    this.gm();
                    break;
                case StackedFragmentSeries.$$p[60]:
                    this.gd();
                    break;
                case StackedFragmentSeries.$$p[76]:
                    this.gu();
                    break;
                case StackedFragmentSeries.$$p[78]:
                    this.gw();
                    break;
                case StackedFragmentSeries.$$p[71]:
                    this.gp();
                    break;
                case StackedFragmentSeries.$$p[73]:
                    this.gs();
                    break;
                case StackedFragmentSeries.$$p[66]:
                    this.gj();
                    break;
                case StackedFragmentSeries.$$p[67]:
                    this.gk();
                    break;
                case StackedFragmentSeries.$$p[68]:
                    this.gl();
                    break;
                case StackedFragmentSeries.$$p[65]:
                    this.gi();
                    break;
                case StackedFragmentSeries.$$p[64]:
                    this.gh();
                    break;
                case StackedFragmentSeries.$$p[70]:
                    this.go();
                    break;
                case StackedFragmentSeries.$$p[74]:
                    this.gr();
                    break;
                case StackedFragmentSeries.$$p[75]:
                    this.gt();
                    break;
                case StackedFragmentSeries.$$p[77]:
                    this.gv();
                    break;
                case StackedFragmentSeries.$$p[81]:
                    this.gx();
                    break;
                case StackedFragmentSeries.$$p[80]:
                    this.gy();
                    break;
                case StackedFragmentSeries.$$p[63]:
                    this.gg();
                    break;
                case StackedFragmentSeries.$$p[56]:
                    this.f9();
                    break;
                case StackedFragmentSeries.$$p[83]:
                    this.gz();
                    break;
                case StackedFragmentSeries.$$p[82]:
                    this.g0();
                    break;
                case StackedFragmentSeries.$$p[72]:
                    this.gq();
                    break;
                case StackedFragmentSeries.$$p[51]:
                    this.f3();
                    break;
                case StackedFragmentSeries.$$p[85]:
                    this.g1();
                    break;
                case StackedFragmentSeries.$$p[86]:
                    this.g2();
                    break;
                case StackedFragmentSeries.$$p[61]:
                    this.ge();
                    break;
                case StackedFragmentSeries.$$p[91]:
                    this.g7();
                    break;
                case StackedFragmentSeries.$$p[93]:
                    this.g9();
                    break;
                case StackedFragmentSeries.$$p[95]:
                    this.hb();
                    break;
                case StackedFragmentSeries.$$p[97]:
                    this.hd();
                    break;
                case StackedFragmentSeries.$$p[94]:
                    this.ha();
                    break;
                case StackedFragmentSeries.$$p[62]:
                    this.gf();
                    break;
                case StackedFragmentSeries.$$p[98]:
                    this.he();
                    break;
                case StackedFragmentSeries.$$p[99]:
                    this.hf();
                    break;
                case StackedFragmentSeries.$$p[96]:
                    this.hc();
                    break;
                case StackedFragmentSeries.$$p[101]:
                    this.hh();
                    break;
                case StackedFragmentSeries.$$p[100]:
                    this.hg();
                    break;
            }
            this.parentSeries.qm(false);
        }
        f1() {
            if (this.visualSeriesLink != null) {
                this.visualSeriesLink.qq();
            }
        }
    }
    StackedFragmentSeries.$t = /*@__PURE__*/ markType(StackedFragmentSeries, 'StackedFragmentSeries', DependencyObject.$, [INotifyPropertyChanged_$type]);
    StackedFragmentSeries.$$p = /*@__PURE__*/ markDep(DependencyProperty, PropertyMetadata, StackedFragmentSeries, 'f0', ['ActualAreaFillOpacity:bb:ht', [1, NaN], 'ActualBrush:ku:hu', [Brush.$], 'ActualDashArray:k7:hv', [DoubleCollection.$], 'ActualDashCap:k9:hw', [PenLineCap_$type, /*@__PURE__*/ enumGetBox(PenLineCap_$type, 0)], 'ActualDataLegendGroup:cp:hx', [2, null], 'ActualHighlightedValuesDataLegendGroup:cr:hy', [2, null], 'ActualHighlightedValuesDisplayMode:z:hz', [SeriesHighlightedValuesDisplayMode_$type, /*@__PURE__*/ enumGetBox(SeriesHighlightedValuesDisplayMode_$type, 1)], 'ActualHighlightingFadeOpacity:bc:h0', [1, NaN], 'ActualIsDropShadowEnabled:al:h1', [0, false], 'ActualIsHitTestVisible:am:h2', [0, true], 'ActualIsSplineShapePartOfRange:an:h3', [0, false], 'ActualIsTransitionInEnabled:ao:h4', [0], 'ActualLegendItemBadgeMode:o:h5', [LegendItemBadgeMode_$type], 'ActualLegendItemBadgeShape:q:h6', [LegendItemBadgeShape_$type], 'ActualLegendItemBadgeTemplate:hn:h7', [DataTemplate.$], 'ActualLegendItemTemplate:ho:h8', [DataTemplate.$], 'ActualLegendItemVisibility:ls:h9', [Visibility_$type, /*@__PURE__*/ enumGetBox(Visibility_$type, 0)], 'ActualLineCap:la:ia', [PenLineCap_$type, /*@__PURE__*/ enumGetBox(PenLineCap_$type, 0)], 'ActualMarkerBrush:kv:ib', [Brush.$], 'ActualMarkerFillMode:s:ic', [MarkerFillMode_$type, /*@__PURE__*/ enumGetBox(MarkerFillMode_$type, 0)], 'ActualMarkerFillOpacity:bd:id', [1, NaN], 'ActualMarkerOutlineMode:u:ie', [MarkerOutlineMode_$type, /*@__PURE__*/ enumGetBox(MarkerOutlineMode_$type, 0)], 'ActualMarkerOutline:kw:ig', [Brush.$], 'ActualMarkerStyle:lq:ih', [Style.$], 'ActualMarkerTemplate:hp:ii', [DataTemplate.$], 'ActualMarkerThickness:be:ij', [1, 1], 'ActualMarkerType:w:ik', [MarkerType_$type, /*@__PURE__*/ enumGetBox(MarkerType_$type, 1)], 'ActualOpacityMask:kx:il', [Brush.$], 'ActualOpacity:bf:im', [1, NaN], 'ActualOutlineMode:aa:io', [SeriesOutlineMode_$type, /*@__PURE__*/ enumGetBox(SeriesOutlineMode_$type, 0)], 'ActualOutline:ky:ip', [Brush.$], 'ActualRadiusX:bg:iq', [1, 0], 'ActualRadiusY:bh:ir', [1, 0], 'ActualShadowBlur:bi:is', [1, NaN], 'ActualShadowColor:k5:it', [Color.$], 'ActualShadowOffsetX:bj:iu', [1, NaN], 'ActualShadowOffsetY:bk:iv', [1, NaN], 'ActualThickness:bl:iw', [1, 1], 'ActualToolTip:cf:ix', [4], 'ActualTransitionDuration:b6:iy', [1], 'ActualTransitionEasingFunction:ag:iz', [Delegate_$type], 'ActualTransitionInDuration:b7:i0', [1], 'ActualTransitionInEasingFunction:ah:i1', [Delegate_$type], 'ActualTransitionInMode:m:i2', [CategoryTransitionInMode_$type], 'ActualTransitionInSpeedType:ad:i3', [TransitionInSpeedType_$type], 'ActualUseHighMarkerFidelity:ap:i4', [0, false], 'ActualUseLightweightMarkers:aq:i5', [0, false], 'ActualUseSingleShadow:ar:i6', [0, true], 'ActualValueMemberAsLegendLabel:d0:i7', [2, null], 'ActualValueMemberAsLegendUnit:d2:i8', [2, null], 'ActualVisibility:lt:i9', [Visibility_$type, /*@__PURE__*/ enumGetBox(Visibility_$type, 0)], 'AreaFillOpacity:bm:ja', [1, NaN], 'Brush:kz:jb', [Brush.$], 'DashArray:k8:jc', [DoubleCollection.$], 'DashCap:lb:jd', [PenLineCap_$type, /*@__PURE__*/ enumGetBox(PenLineCap_$type, 0)], 'DataLegendGroup:d9:je', [2, null], 'HighlightedItemsSource::jf', [IEnumerable_$type, null], 'HighlightedValuesDataLegendGroup:ed:jg', [2, null], 'HighlightingFadeOpacity:bv:jh', [1, NaN], 'IsDropShadowEnabled:au:ji', [0], 'IsHitTestVisible:av:jj', [0, true], 'IsSplineShapePartOfRange:aw:jk', [0, false], 'IsTransitionInEnabled:ax:jl', [0, false], 'ItemsSource::jm', [IEnumerable_$type, null], 'LegendItemBadgeMode:p:jn', [LegendItemBadgeMode_$type, /*@__PURE__*/ enumGetBox(LegendItemBadgeMode_$type, 0)], 'LegendItemBadgeShape:r:jo', [LegendItemBadgeShape_$type, /*@__PURE__*/ enumGetBox(LegendItemBadgeShape_$type, 0)], 'LegendItemBadgeTemplate:hq:jp', [DataTemplate.$, null], 'LegendItemTemplate:hr:jq', [DataTemplate.$, null], 'LegendItemVisibility:lu:jr', [Visibility_$type, /*@__PURE__*/ enumGetBox(Visibility_$type, 0)], 'LineCap:lc:js', [PenLineCap_$type, /*@__PURE__*/ enumGetBox(PenLineCap_$type, 0)], 'MarkerBrush:k0:jt', [Brush.$], 'MarkerFillMode:t:ju', [MarkerFillMode_$type, /*@__PURE__*/ enumGetBox(MarkerFillMode_$type, 0)], 'MarkerFillOpacity:bw:jv', [1, NaN], 'MarkerOutlineMode:v:jw', [MarkerOutlineMode_$type, /*@__PURE__*/ enumGetBox(MarkerOutlineMode_$type, 0)], 'MarkerOutline:k1:jx', [Brush.$], 'MarkerStyle:lr:jy', [Style.$], 'MarkerTemplate:hs:jz', [DataTemplate.$, null], 'MarkerThickness:bx:j0', [1, NaN], 'MarkerType:x:j1', [MarkerType_$type, /*@__PURE__*/ enumGetBox(MarkerType_$type, 2)], 'Name:e0:j2', [2], 'OpacityMask:k2:j3', [Brush.$], 'Opacity:by:j4', [1, 1], 'OutlineMode:ab:j5', [SeriesOutlineMode_$type, /*@__PURE__*/ enumGetBox(SeriesOutlineMode_$type, 0)], 'Outline:k3:j6', [Brush.$, null], 'ParentOrLocalBrush:k4:j7', [Brush.$], 'RadiusX:bz:j8', [1, NaN], 'RadiusY:b0:j9', [1, NaN], 'ShadowBlur:b1:ka', [1, NaN], 'ShadowColor:k6:kb', [Color.$], 'ShadowOffsetX:b2:kc', [1, NaN], 'ShadowOffsetY:b3:kd', [1, NaN], 'Thickness:b4:ke', [1, NaN], 'Title:cj:kf', [4, "Series Title"], 'ToolTip:ck:kg', [4, null], 'TransitionDuration:cd:kh', [1, 0], 'TransitionEasingFunction:ai:ki', [Delegate_$type, null], 'TransitionInDuration:ce:kj', [1, 1000], 'TransitionInEasingFunction:aj:kk', [Delegate_$type, null], 'TransitionInMode:n:kl', [CategoryTransitionInMode_$type, /*@__PURE__*/ enumGetBox(CategoryTransitionInMode_$type, 0)], 'TransitionInSpeedType:ae:km', [TransitionInSpeedType_$type, /*@__PURE__*/ enumGetBox(TransitionInSpeedType_$type, 0)], 'UseHighMarkerFidelity:a2:kn', [0, false], 'UseLightweightMarkers:a3:ko', [0, false], 'UseSingleShadow:a4:kp', [0], 'ValueMemberAsLegendLabel:fp:kq', [2, null], 'ValueMemberAsLegendUnit:fr:kr', [2, null], 'ValueMemberPath:ft:ks', [2, null], 'Visibility:lv:kt', [Visibility_$type, /*@__PURE__*/ enumGetBox(Visibility_$type, 0)]]);
    return StackedFragmentSeries;
})();
/**
 * @hidden
 */
export let StackedSeriesCollection = /*@__PURE__*/ (() => {
    class StackedSeriesCollection extends ObservableCollection$1 {
        constructor() {
            super(StackedFragmentSeries.$, 0);
            this.collectionResetting = null;
        }
        p() {
            if (this.collectionResetting != null) {
                this.collectionResetting(this, null);
            }
            super.p();
        }
    }
    StackedSeriesCollection.$t = /*@__PURE__*/ markType(StackedSeriesCollection, 'StackedSeriesCollection', /*@__PURE__*/ ObservableCollection$1.$.specialize(StackedFragmentSeries.$));
    return StackedSeriesCollection;
})();
/**
 * @hidden
 */
export let StackedSeriesFramePreparer = /*@__PURE__*/ (() => {
    class StackedSeriesFramePreparer extends CategoryFramePreparer {
        constructor(a, ..._rest) {
            a = (a == void 0) ? 0 : a;
            switch (a) {
                case 0:
                    {
                        let c = _rest[0];
                        super(0, c);
                    }
                    break;
                case 1:
                    {
                        let c = _rest[0];
                        let d = _rest[1];
                        let e = _rest[2];
                        let f = _rest[3];
                        let g = _rest[4];
                        super(1, c, d, e, f, g);
                    }
                    break;
            }
        }
        j(a) {
            let b = new SingleValuesHolder();
            if (typeCast(StackedColumnSeries.$, this.h) !== null || typeCast(StackedBarSeries.$, this.h) !== null) {
                let c = typeCast(StackedSeriesBase.$, this.h);
                if (c.yw.count > 0) {
                    b.f = c.yw._inner[0].ak;
                }
                return b;
            }
            let d = this.ad.valueColumn;
            b.f = d;
            return b;
        }
        t(a, b, c, d, e) {
            let f = 0;
            let g = false;
            let h;
            let i = a.d != null;
            let j = this.h.provideCollisionDetector();
            let k = a.f;
            let l = a.n;
            let m = this.h.mayContainUnknowns;
            let n = new ScalerParams(0, a.p, a.o, a.b.j$b, l);
            let o = new ScalerParams(0, a.p, a.o, a.c.j$b, l);
            o.b = this.h.getHostReferenceValue();
            let p = (a.b.j$d(2, n) - a.b.j$d(1, n));
            let q = a.p;
            let r = a.o;
            let s = typeCast(NumericAxisBase.$, a.c) !== null && a.c.lj;
            for (let t = a.k; t <= a.l; ++t) {
                let u;
                if (a.d == null) {
                    if (!m) {
                        u = this.g.getBucketWithoutUnknowns(t);
                    }
                    else {
                        u = this.g.getBucket(t);
                    }
                }
                else {
                    u = ((() => { let v = this.f(a, t, b, p, g, h, c); t = v.p1; g = v.p4; h = v.p5; return v.ret; })());
                }
                let v = !s || (s && u[1] > 0);
                let w = u[0];
                if (!isNaN_(u[0])) {
                    this.x(a, u, c, i, n, o);
                    a.a.f.add(u);
                    let x = t * a.j;
                    let y = x;
                    if (a.d != null && a.d.i$b != null && x >= 0 && x < a.d.i$b.count) {
                        x = a.d.i$b._inner[x];
                    }
                    let z = u;
                    if (k && x < b.e) {
                        z = new Array(u.length);
                        z[0] = w;
                        this.z(b, x, true, a.e);
                        z[1] = b.c;
                        z[2] = b.d;
                        this.x(a, z, c, i, n, o);
                    }
                    if (d && v && this.l(a.a, z, j, Math.min(x, b.e - 1), f, a.a.f.count - 1)) {
                        ++f;
                    }
                }
            }
            return f;
        }
        l(a, b, c, d, e, f) {
            let g = b[0];
            let h = b[1];
            if (typeCast(IBarSeries_$type, this.c) !== null) {
                h = b[0];
                g = b[1];
            }
            let i = new Rect(0, g - 5, h - 5, 11, 11);
            if (!isNaN_(g) && !isNaN_(h) && !isInfinity(g) && !isInfinity(h) && c.tryAdd(i)) {
                a.n.add({ $type: Point_$type, x: g, y: h });
                this.c.updateMarkerTemplate(e, d, f);
                return true;
            }
            return false;
        }
    }
    StackedSeriesFramePreparer.$t = /*@__PURE__*/ markType(StackedSeriesFramePreparer, 'StackedSeriesFramePreparer', CategoryFramePreparer.$);
    return StackedSeriesFramePreparer;
})();
/**
 * @hidden
 */
export let AreaFragmentView = /*@__PURE__*/ (() => {
    class AreaFragmentView extends AnchoredCategorySeriesView {
        au() {
            super.au();
            if (!this.q) {
            }
        }
        constructor(a) {
            super(a);
            this.dd = null;
            this.dj = new Path();
            this.dl = new Path();
            this.dk = new Path();
            this.dm = new Path();
            this.df = new Path();
            this.dh = new Path();
            this.dg = new Path();
            this.di = new Path();
            this.dd = a;
        }
        de() {
            this.dj.an = null;
            this.dk.an = null;
            this.dl.an = null;
            this.dm.an = null;
            this.df.an = null;
            this.dg.an = null;
            this.dh.an = null;
            this.di.an = null;
        }
        cv() {
            return new AreaFragmentBucketCalculator(this);
        }
        bd() {
            super.bd();
        }
        be() {
            super.be();
            let a = this.br();
            this.df.an = this.dj.an;
            this.dg.an = this.dk.an;
            this.dh.an = this.dl.an;
            this.di.an = this.dm.an;
            this.df._fill = a;
            this.dg._fill = a;
            this.df._opacity = 1;
            this.dg._opacity = 1;
            this.dh._stroke = a;
            this.dh.ad = this.e.hv + 3;
            this.di._stroke = a;
            this.di.ad = this.e.hv + 3;
        }
        a8(a, b) {
            super.a8(a, b);
            if (a.d) {
                if (b) {
                    a.t(this.df);
                    a.t(this.dg);
                    a.t(this.dh);
                    a.t(this.di);
                }
                else {
                    a.t(this.dj);
                    a.t(this.dk);
                    a.t(this.dl);
                    a.t(this.dm);
                }
            }
        }
        get_index() {
            let a = this.dd.parentSeries;
            let b = a.series.count;
            let c = a.series.indexOf(this.dd.logicalSeriesLink);
            let d = (b - 1) - c;
            let e = a.cl.index;
            return e + d;
        }
        an(a) {
            super.an(a);
            this.e.a4.exportPathData(a, this.dl, "lowerShape", ["Lower"]);
            this.e.a4.exportPathData(a, this.dm, "upperShape", ["Upper", "Main"]);
            this.e.a4.exportPathData(a, this.dk, "translucentShape", ["Translucent"]);
            this.e.a4.exportPathData(a, this.dj, "fillShape", ["Fill"]);
        }
    }
    AreaFragmentView.$t = /*@__PURE__*/ markType(AreaFragmentView, 'AreaFragmentView', AnchoredCategorySeriesView.$);
    return AreaFragmentView;
})();
/**
 * @hidden
 */
export let ColumnFragmentView = /*@__PURE__*/ (() => {
    class ColumnFragmentView extends AnchoredCategorySeriesView {
        au() {
            super.au();
            if (!this.q) {
            }
        }
        constructor(a) {
            super(a);
            this.dd = null;
            this.dh = null;
            this.de = null;
            this.df = null;
            this.dg = null;
            this.dm = new Rectangle();
            this.dd = a;
            this.df = new List$1(Number_$type, 0);
            this.dg = new List$1(Number_$type, 0);
            this.de = ((() => {
                let $ret = new Pool$1(Rectangle.$);
                $ret.create = runOn(this, this.dn);
                $ret.activate = runOn(this, this.di);
                $ret.disactivate = runOn(this, this.dk);
                $ret.destroy = runOn(this, this.dj);
                return $ret;
            })());
            this.dh = new List$1(Rectangle.$, 0);
        }
        dn() {
            let a = ((() => {
                let $ret = new Rectangle();
                $ret.dataContext = ((() => {
                    let $ret = new DataContext();
                    $ret.series = this.e;
                    return $ret;
                })());
                return $ret;
            })());
            this.dh.add(a);
            a._visibility = 1;
            return a;
        }
        di(a) {
            a._visibility = 0;
        }
        dk(a) {
            a._visibility = 1;
        }
        dj(a) {
            this.dh.remove(a);
        }
        bg(a, b) {
            super.bg(a, b);
            let c = a;
        }
        dl(a, b, c) {
            let d = false;
            if (a.o != c) {
                d = true;
                a.o = c;
            }
            if (a.n != b) {
                d = true;
                a.n = b;
            }
            if (d) {
                this.as();
            }
        }
        bh(a, b) {
            super.bh(a, b);
        }
        ac(a) {
            return this.dh._inner[a];
        }
        ab(a) {
            let b = this.dh._inner[a];
            this.dm._visibility = b._visibility;
            this.dm.n = b.n;
            this.dm.o = b.o;
            this.dm.width = b.width;
            this.dm.height = b.height;
            let c = this.bs(a);
            this.dm._fill = c;
            this.dm._stroke = c;
            this.dm.ad = this.e.hv + 3;
            return this.dm;
        }
        a8(a, b) {
            super.a8(a, b);
            if (a.d) {
                for (let c = 0; c < this.dh.count; c++) {
                    let d = this.aa(c, b);
                    this.bf(d, c, b);
                    a.w(d);
                }
            }
        }
        get_index() {
            let a = this.dd.parentSeries;
            let b = a.series.count;
            let c = a.series.indexOf(this.dd.logicalSeriesLink);
            let d = (b - 1) - c;
            let e = a.cl.index;
            return e + d;
        }
        an(a) {
            super.an(a);
            let b = 0;
            let c = new List$1(Rectangle.$, 0);
            for (let d of fromEnum(this.de.a)) {
                c.add(d);
            }
            c.aa((e, f) => {
                if (e.n < f.n) {
                    return -1;
                }
                else if (e.n > f.n) {
                    return 1;
                }
                else {
                    return 0;
                }
            });
            for (let e of fromEnum(c)) {
                this.e.a4.exportRectangleData(a, e, "column" + b, ["Main", "Fill"]);
            }
            b++;
        }
        getDefaultTooltipTemplate() {
            let a = "<div class='ui-chart-default-tooltip-content'>";
            let b = null;
            if (this.dd.w1().cb) {
                b = this.dd.fragmentXAxis;
            }
            else if (this.dd.fragmentYAxis.cb) {
                b = this.dd.fragmentYAxis;
            }
            if (b.ce) {
                let c = b;
                a += "<span>${item." + c.dateTimeMemberPath + "}</span><br/>";
            }
            if (b != null && b.f0 != null) {
                a += "<span>${item." + b.f0 + "}</span><br/>";
            }
            a += "<span";
            let d = this.e.a2.a$t(this.e);
            if (!stringIsNullOrEmpty(d)) {
                a += " style='color:" + d + "'";
            }
            a += ">" + this.dd.title + ": </span><span class='ui-priority-primary'>" + "${item." + this.dd.zl + "}</span></div>";
            return a;
        }
    }
    ColumnFragmentView.$t = /*@__PURE__*/ markType(ColumnFragmentView, 'ColumnFragmentView', AnchoredCategorySeriesView.$);
    return ColumnFragmentView;
})();
/**
 * @hidden
 */
export let LineFragmentView = /*@__PURE__*/ (() => {
    class LineFragmentView extends AnchoredCategorySeriesView {
        constructor(a) {
            super(a);
            this.dd = null;
            this.dj = new Path();
            this.di = new Path();
            this.dk = new Path();
            this.dg = new Path();
            this.df = new Path();
            this.dh = new Path();
            this.dd = a;
        }
        de() {
            this.di.an = null;
            this.dj.an = null;
            this.dk.an = null;
            this.df.an = null;
            this.dg.an = null;
            this.dh.an = null;
        }
        cv() {
            return new LineFragmentBucketCalculator(this);
        }
        bd() {
            super.bd();
        }
        be() {
            super.be();
            let a = this.br();
            this.df.an = this.di.an;
            this.dg.an = this.dj.an;
            this.dh.an = this.dk.an;
            this.dg._stroke = a;
            this.dg.ad = this.e.hv + 3;
            this.dh._stroke = a;
            this.dh.ad = this.e.hv + 3;
            this.df._fill = a;
            this.df._opacity = 1;
        }
        a8(a, b) {
            super.a8(a, b);
            if (a.d) {
                if (b) {
                    a.t(this.df);
                    a.t(this.dg);
                    a.t(this.dh);
                }
                else {
                    a.t(this.di);
                    a.t(this.dj);
                    a.t(this.dk);
                }
            }
        }
        get_index() {
            let a = this.dd.parentSeries;
            let b = a.series.count;
            let c = a.series.indexOf(this.dd.logicalSeriesLink);
            let d = (b - 1) - c;
            let e = a.cl.index;
            return e + d;
        }
        an(a) {
            super.an(a);
            this.e.a4.exportPathData(a, this.dj, "lowerShape", ["Lower", "Main"]);
            this.e.a4.exportPathData(a, this.dk, "upperShape", ["Upper"]);
            this.e.a4.exportPathData(a, this.di, "translucentShape", ["Translucent"]);
        }
    }
    LineFragmentView.$t = /*@__PURE__*/ markType(LineFragmentView, 'LineFragmentView', AnchoredCategorySeriesView.$);
    return LineFragmentView;
})();
/**
 * @hidden
 */
export let SplineAreaFragmentView = /*@__PURE__*/ (() => {
    class SplineAreaFragmentView extends SplineSeriesBaseView {
        au() {
            super.au();
            if (!this.q) {
            }
        }
        constructor(a) {
            super(a);
            this.df = null;
            this.dl = new Path();
            this.dn = new Path();
            this.dm = new Path();
            this.dp = new Path();
            this.dh = new Path();
            this.dj = new Path();
            this.di = new Path();
            this.dk = new Path();
            this.df = a;
        }
        dg() {
            this.dl.an = null;
            this.dm.an = null;
            this.dn.an = null;
            this.dp.an = null;
            this.dh.an = null;
            this.di.an = null;
            this.dj.an = null;
            this.dk.an = null;
        }
        bd() {
            super.bd();
        }
        be() {
            super.be();
            let a = this.br();
            this.dh.an = this.dl.an;
            this.di.an = this.dm.an;
            this.dj.an = this.dn.an;
            this.dk.an = this.dp.an;
            this.dh._fill = a;
            this.di._fill = a;
            this.di._opacity = 1;
            this.dh._opacity = 1;
            this.dj._stroke = a;
            this.dj.ad = this.e.hv + 3;
            this.dk._stroke = a;
            this.dk.ad = this.e.hv + 3;
        }
        a8(a, b) {
            super.a8(a, b);
            if (a.d) {
                if (b) {
                    a.t(this.dh);
                    a.t(this.di);
                    a.t(this.dj);
                    a.t(this.dk);
                }
                else {
                    a.t(this.dl);
                    a.t(this.dm);
                    a.t(this.dn);
                    a.t(this.dp);
                }
            }
        }
        get_index() {
            let a = this.df.parentSeries;
            let b = a.series.count;
            let c = a.series.indexOf(this.df.logicalSeriesLink);
            let d = (b - 1) - c;
            let e = a.cl.index;
            return e + d;
        }
        an(a) {
            super.an(a);
            this.e.a4.exportPathData(a, this.dn, "lowerShape", ["Lower"]);
            this.e.a4.exportPathData(a, this.dp, "upperShape", ["Upper", "Main"]);
            this.e.a4.exportPathData(a, this.dm, "translucentShape", ["Translucent"]);
            this.e.a4.exportPathData(a, this.dl, "fillShape", ["Fill"]);
        }
    }
    SplineAreaFragmentView.$t = /*@__PURE__*/ markType(SplineAreaFragmentView, 'SplineAreaFragmentView', SplineSeriesBaseView.$);
    return SplineAreaFragmentView;
})();
/**
 * @hidden
 */
export let SplineFragmentView = /*@__PURE__*/ (() => {
    class SplineFragmentView extends SplineSeriesBaseView {
        constructor(a) {
            super(a);
            this.df = null;
            this.dl = new Path();
            this.dk = new Path();
            this.dm = new Path();
            this.di = new Path();
            this.dh = new Path();
            this.dj = new Path();
            this.df = a;
        }
        cv() {
            return new SplineFragmentBucketCalculator(this);
        }
        dg() {
            this.dk.an = null;
            this.dl.an = null;
            this.dm.an = null;
            this.dh.an = null;
            this.di.an = null;
            this.dj.an = null;
        }
        bd() {
            super.bd();
        }
        be() {
            super.be();
            let a = this.br();
            this.dh.an = this.dk.an;
            this.di.an = this.dl.an;
            this.dj.an = this.dm.an;
            this.di._stroke = a;
            this.di.ad = this.e.hv + 3;
            this.dj._stroke = a;
            this.dj.ad = this.e.hv + 3;
            this.dh._fill = a;
            this.dh._opacity = 0.75;
        }
        a8(a, b) {
            super.a8(a, b);
            if (a.d) {
                if (b) {
                    a.t(this.dh);
                    a.t(this.di);
                    a.t(this.dj);
                }
                else {
                    a.t(this.dk);
                    a.t(this.dl);
                    a.t(this.dm);
                }
            }
        }
        get_index() {
            let a = this.df.parentSeries;
            let b = a.series.count;
            let c = a.series.indexOf(this.df.logicalSeriesLink);
            let d = (b - 1) - c;
            let e = a.cl.index;
            return e + d;
        }
        an(a) {
            super.an(a);
            this.e.a4.exportPathData(a, this.dl, "lowerShape", ["Lower", "Main"]);
            this.e.a4.exportPathData(a, this.dm, "upperShape", ["Upper"]);
            this.e.a4.exportPathData(a, this.dk, "translucentShape", ["Translucent"]);
        }
    }
    SplineFragmentView.$t = /*@__PURE__*/ markType(SplineFragmentView, 'SplineFragmentView', SplineSeriesBaseView.$);
    return SplineFragmentView;
})();
/**
 * @hidden
 */
export let StackedSeriesView = /*@__PURE__*/ (() => {
    class StackedSeriesView extends CategorySeriesView {
        get c5() {
            return this.c4;
        }
        get c7() {
            return this.c6;
        }
        constructor(a) {
            super(a);
            this.c3 = null;
            this.c4 = new Canvas();
            this.c6 = new Panel();
            this.c3 = a;
        }
        cv() {
            return new StackedBucketCalculator(this);
        }
        ar() {
            super.ar();
            for (let a = 0; a < this.c3.y1.f.count; a++) {
                this.c3.y1.f._inner[a].cl.ar();
            }
        }
        at(a, b) {
            super.at(a, b);
            for (let c of fromEnum(this.c3.series)) {
                c.visualSeriesLink.cl.at(a, b);
            }
        }
        af() {
            let a = "rgba(95,95,95,0.5)";
            let b = true;
            let c = 5, d = 5, e = 5;
            let f = this.e;
            if ((f.isStacked && f.ef) || (f.isStacked && f.fl && f.ef)) {
                d = 1;
                e = -3;
            }
            else if ((f.isStacked && f.e5) || (f.isStacked && f.fl)) {
                c = 3;
                d = 1;
                e = 4;
                b = false;
            }
            else if ((f.isStacked && f.ek)) {
                d = 5;
                e = 0;
            }
            let g = new Color();
            g.colorString = a;
            f.uj = g;
            f.i2 = c;
            f.i3 = d;
            f.i4 = e;
            f.gu = b;
        }
    }
    StackedSeriesView.$t = /*@__PURE__*/ markType(StackedSeriesView, 'StackedSeriesView', CategorySeriesView.$);
    return StackedSeriesView;
})();
/**
 * @hidden
 */
export let StackedBarSeriesView = /*@__PURE__*/ (() => {
    class StackedBarSeriesView extends StackedSeriesView {
        constructor(a) {
            super(a);
            this.c8 = null;
            this.c8 = a;
        }
        cv() {
            return new StackedBarBucketCalculator(this);
        }
        au() {
            super.au();
            if (!this.q) {
                this.c3.vp = Defaults.c;
                this.c3.i5 = Defaults.i;
            }
        }
    }
    StackedBarSeriesView.$t = /*@__PURE__*/ markType(StackedBarSeriesView, 'StackedBarSeriesView', StackedSeriesView.$);
    return StackedBarSeriesView;
})();
/**
 * @hidden
 */
export let StackedColumnSeriesView = /*@__PURE__*/ (() => {
    class StackedColumnSeriesView extends StackedSeriesView {
        constructor(a) {
            super(a);
        }
        cv() {
            return new StackedColumnBucketCalculator(this);
        }
        au() {
            super.au();
            if (!this.q) {
                this.c3.vp = Defaults.c;
                this.c3.i5 = Defaults.i;
            }
        }
    }
    StackedColumnSeriesView.$t = /*@__PURE__*/ markType(StackedColumnSeriesView, 'StackedColumnSeriesView', StackedSeriesView.$);
    return StackedColumnSeriesView;
})();
/**
 * @hidden
 */
export let StackedAreaSeriesView = /*@__PURE__*/ (() => {
    class StackedAreaSeriesView extends StackedSeriesView {
        constructor(a) {
            super(a);
        }
        au() {
            super.au();
            if (!this.q) {
                this.c3.vp = Defaults.e;
            }
        }
    }
    StackedAreaSeriesView.$t = /*@__PURE__*/ markType(StackedAreaSeriesView, 'StackedAreaSeriesView', StackedSeriesView.$);
    return StackedAreaSeriesView;
})();
/**
 * @hidden
 */
export let StackedSplineAreaSeriesView = /*@__PURE__*/ (() => {
    class StackedSplineAreaSeriesView extends StackedSeriesView {
        constructor(a) {
            super(a);
        }
        au() {
            super.au();
            if (!this.q) {
                this.c3.vp = Defaults.e;
            }
        }
        c8() {
            let a = 1;
            if (this.c3.c1 != null) {
                a = this.c3.c1.g9;
            }
            return Math.max(1 / (a * 3), 0.3);
        }
    }
    StackedSplineAreaSeriesView.$t = /*@__PURE__*/ markType(StackedSplineAreaSeriesView, 'StackedSplineAreaSeriesView', StackedSeriesView.$);
    return StackedSplineAreaSeriesView;
})();
/**
 * @hidden
 */
export let StackedSplineSeriesView = /*@__PURE__*/ (() => {
    class StackedSplineSeriesView extends StackedSeriesView {
        constructor(a) {
            super(a);
        }
        au() {
            super.au();
            if (!this.q) {
                this.c3.vp = Defaults.e;
            }
        }
        c8() {
            let a = 1;
            if (this.c3.c1 != null) {
                a = this.c3.c1.g9;
            }
            return Math.max(1 / (a * 3), 0.3);
        }
    }
    StackedSplineSeriesView.$t = /*@__PURE__*/ markType(StackedSplineSeriesView, 'StackedSplineSeriesView', StackedSeriesView.$);
    return StackedSplineSeriesView;
})();
/**
 * @hidden
 */
export let StackedSeriesManager = /*@__PURE__*/ (() => {
    class StackedSeriesManager extends Base {
        constructor(a) {
            super();
            this.b = null;
            this.f = null;
            this.c = null;
            this.e = null;
            this.d = null;
            this.k = null;
            this.l = null;
            if (a == null) {
                return;
            }
            this.b = a;
            this.f = new ObservableCollection$1(AnchoredCategorySeries.$, 0);
            this.c = new StackedSeriesCollection();
            this.e = new ObservableCollection$1(AnchoredCategorySeries.$, 0);
            this.d = new ObservableCollection$1(AnchoredCategorySeries.$, 0);
            this.k = this.b.y2.c5;
            this.l = this.b.y2.c7;
            let b = this.c;
            b.collectionChanged = delegateCombine(b.collectionChanged, (b, c) => {
                if (c.oldItems != null) {
                    for (let d of fromEn(c.oldItems)) {
                        if (this.f.contains(d.visualSeriesLink)) {
                            this.f.remove(d.visualSeriesLink);
                        }
                    }
                }
                if (c.newItems != null) {
                    let e = c.newStartingIndex;
                    for (let f of fromEn(c.newItems)) {
                        let g = this.a(f);
                        this.f.insert(e, g);
                        e++;
                    }
                }
            });
            let c = this.f;
            c.collectionChanged = delegateCombine(c.collectionChanged, (c, d) => {
                if (d.oldItems != null) {
                    for (let e of fromEn(d.oldItems)) {
                        Series.om(e, this.b.c1, true);
                        e.n7(true, e.cl);
                        e.c1 = null;
                        e.ct = null;
                        e.itemsSource = null;
                        e.legend = null;
                        if (this.l != null && this.l.ab.contains(e)) {
                            this.l.ab.remove(e);
                        }
                        if (this.b.c1 != null) {
                            this.b.c1.qm(e);
                        }
                    }
                }
                if (d.newItems != null) {
                    for (let f of fromEn(d.newItems)) {
                        Series.om(f, this.b.c1, false);
                        f.c1 = this.b.c1;
                        f.ct = this.b.ct;
                        if (!this.l.ab.contains(f)) {
                            this.l.ab.add(f);
                        }
                        if (this.b.c1 != null) {
                            this.b.c1.ms(f);
                        }
                    }
                }
                this.b.qm(false);
            });
        }
        a(a) {
            if (this.b.isStacked && this.b.e5) {
                let b = new LineFragment();
                b.provideRenderer(a.b5);
                b.parentSeries = this.b;
                a.visualSeriesLink = b;
                b.logicalSeriesLink = a;
                b.cl.bx = this.b.cl.bx;
                this.i(b, a);
                this.g(b);
                return b;
            }
            if (this.b.isStacked && this.b.ek) {
                let c = new ColumnFragment();
                c.provideRenderer(a.b5);
                c.parentSeries = this.b;
                a.visualSeriesLink = c;
                c.logicalSeriesLink = a;
                c.cl.bx = this.b.cl.bx;
                this.i(c, a);
                this.g(c);
                return c;
            }
            if (this.b.isStacked && this.b.ei) {
                let d = new BarFragment();
                d.provideRenderer(a.b5);
                d.parentSeries = typeCast(StackedBarSeries.$, this.b);
                a.visualSeriesLink = d;
                d.logicalSeriesLink = a;
                d.cl.bx = this.b.cl.bx;
                this.i(d, a);
                this.g(d);
                return d;
            }
            if (this.b.isStacked && this.b.ef && !this.b.fl) {
                let e = new AreaFragment();
                e.provideRenderer(a.b5);
                e.parentSeries = this.b;
                a.visualSeriesLink = e;
                e.logicalSeriesLink = a;
                e.cl.bx = this.b.cl.bx;
                this.i(e, a);
                this.g(e);
                return e;
            }
            if (this.b.isStacked && this.b.fl && !this.b.ef) {
                let f = new SplineFragment();
                f.provideRenderer(a.b5);
                f.parentSeries = this.b;
                a.visualSeriesLink = f;
                f.logicalSeriesLink = a;
                f.cl.bx = this.b.cl.bx;
                this.i(f, a);
                this.g(f);
                return f;
            }
            if (this.b.isStacked && this.b.fl && this.b.ef) {
                let g = new SplineAreaFragment();
                g.provideRenderer(a.b5);
                g.parentSeries = this.b;
                a.visualSeriesLink = g;
                g.logicalSeriesLink = a;
                g.cl.bx = this.b.cl.bx;
                this.i(g, a);
                this.g(g);
                return g;
            }
            return null;
        }
        j() {
            if (this.b == null) {
                return;
            }
            for (let a of fromEnum(this.f)) {
                a.iz = this.b.hu;
            }
        }
        i(a, b) {
            if (b.itemsSource == null) {
                a.itemsSource = this.b.itemsSource;
            }
            else {
                a.itemsSource = b.itemsSource;
            }
            if (b.highlightedItemsSource == null) {
                a.highlightedItemsSource = this.b.highlightedItemsSource;
            }
            else {
                a.highlightedItemsSource = b.highlightedItemsSource;
            }
            a.legend = this.b.ax;
            a.legendItemTemplate = b.ho;
            a.legendItemVisibility = b.ls;
            a.ix = this.b.ix;
            a.um = b.la;
            a.uk = b.k7;
            a.ul = b.k9;
            a.t2 = b.k4;
            a._opacity = b.by;
            a.ud = b.ky;
            a.b8 = b.aa;
            a.iz = this.b.iz;
            a.i5 = b.bl;
            a.title = b.cj;
            a.zl = b.ft;
            a.zh = b.fp;
            a.zj = b.fr;
            a._visibility = b.lt;
            a.iv = b.bc;
            a.bm = b.z;
            a.k8 = b.d9;
            a.ln = b.ed;
            a.ws = b.kv;
            a.wt = b.kw;
            a.vj = b.u;
            a.wu = b.lq;
            a.wc = b.hp;
            a.vp = b.w;
            a.vu = b.be;
            a.iw = b.bd;
            a.vf = b.s;
            a.vt = b.aq;
            a.xy = b.ap;
            a.jt = b.b6;
            a.c3 = b.ag;
            a.ju = b.b7;
            a.xd = b.m;
            a.cv = b.ad;
            a.ju = b.b7;
            a.c4 = b.ah;
            a.xt = b.ao;
            let c = typeCast(AreaFragment.$, a);
            if (c != null) {
                c.hq = b.bb;
            }
            let d = typeCast(SplineAreaFragment.$, a);
            if (d != null) {
                d.hq = b.bb;
            }
            let e = typeCast(ColumnFragment.$, a);
            if (e != null) {
                e.aa8 = b.bg;
                e.aa9 = b.bh;
            }
            let f = typeCast(BarFragment.$, a);
            if (f != null) {
                f.aa8 = b.bg;
                f.aa9 = b.bh;
            }
            a.toolTip = b.ck;
            a.ep = b.al;
            a.gu = b.ar;
            b.g3();
            b.g4();
            b.g5();
            b.g6();
        }
        h(a) {
            this.e.clear();
            this.d.clear();
            let b = 0;
            for (let c of fromEnum(this.f)) {
                c.gj = true;
                c.index = this.b.zd(this.c._inner[b]);
                c.ct = this.b.ct;
                c.c1 = this.b.c1;
                if (this.c._inner[b].az) {
                    this.e.add(c);
                }
                else {
                    this.d.add(c);
                }
                if ((this.b.isStacked && this.b.e5) || (this.b.isStacked && this.b.ef) || (this.b.isStacked && this.b.fl)) {
                    c.zp(this.b.fetchXAxis());
                    c.zq(this.b.fetchYAxis());
                }
                c.qm(a);
                b++;
            }
        }
        g(a) {
            let fragment_ = a;
            fragment_.externalObject = TypeRegistrar.createFromInternal(fragment_, PlatformConstants.Prefix, PlatformConstants.Postfix);
            fragment_.externalObject._implementation = fragment_;
        }
    }
    StackedSeriesManager.$t = /*@__PURE__*/ markType(StackedSeriesManager, 'StackedSeriesManager');
    return StackedSeriesManager;
})();
